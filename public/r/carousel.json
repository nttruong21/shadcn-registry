{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "carousel",
  "type": "registry:ui",
  "title": "Carousel",
  "description": "A carousel with motion and swipe built using Embla.",
  "dependencies": [
    "embla-carousel-react",
    "lucide-react"
  ],
  "registryDependencies": [
    "https://ntt-shadcn-registry.vercel.app/r/button.json",
    "https://ntt-shadcn-registry.vercel.app/r/spinner.json"
  ],
  "files": [
    {
      "path": "src/registry/new-york/ui/carousel/components/carousel.tsx",
      "content": "import useEmblaCarousel, { type UseEmblaCarouselType } from 'embla-carousel-react'\nimport { ArrowLeft, ArrowRight } from 'lucide-react'\nimport * as React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { cn } from '@/utils/ui'\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\nconst useCarousel = () => {\n  const context = React.useContext(CarouselContext)\n  if (!context) {\n    throw new Error('useCarousel must be used within the Carousel')\n  }\n  return context\n}\n\n// Carousel\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: 'horizontal' | 'vertical'\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextValue = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextValue | null>(null)\n\nexport const Carousel = ({\n  orientation = 'horizontal',\n  opts,\n  setApi,\n  plugins,\n  className,\n  children,\n  ...props\n}: React.ComponentProps<'div'> & CarouselProps) => {\n  // Hooks\n  const [carouselRef, api] = useEmblaCarousel(\n    {\n      ...opts,\n      axis: orientation === 'horizontal' ? 'x' : 'y'\n    },\n    plugins\n  )\n\n  // States\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n  const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n  // Methods\n  const onSelect = React.useCallback((api: CarouselApi) => {\n    if (!api) return\n    setCanScrollPrev(api.canScrollPrev())\n    setCanScrollNext(api.canScrollNext())\n  }, [])\n\n  const scrollPrev = React.useCallback(() => {\n    api?.scrollPrev()\n  }, [api])\n\n  const scrollNext = React.useCallback(() => {\n    api?.scrollNext()\n  }, [api])\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        event.preventDefault()\n        scrollPrev()\n      } else if (event.key === 'ArrowRight') {\n        event.preventDefault()\n        scrollNext()\n      }\n    },\n    [scrollPrev, scrollNext]\n  )\n\n  // Effects\n  React.useEffect(() => {\n    if (!api || !setApi) return\n    setApi(api)\n  }, [api, setApi])\n\n  React.useEffect(() => {\n    if (!api) return\n    onSelect(api)\n    api.on('reInit', onSelect)\n    api.on('select', onSelect)\n\n    return () => {\n      api?.off('select', onSelect)\n    }\n  }, [api, onSelect])\n\n  // Template\n  return (\n    <CarouselContext.Provider\n      value={{\n        carouselRef,\n        api: api,\n        opts,\n        orientation: orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),\n        scrollPrev,\n        scrollNext,\n        canScrollPrev,\n        canScrollNext\n      }}\n    >\n      {/** biome-ignore lint/a11y/useSemanticElements: Ignore */}\n      <div\n        role='region'\n        className={cn('relative', className)}\n        aria-roledescription='carousel'\n        data-slot='carousel'\n        onKeyDownCapture={handleKeyDown}\n        {...props}\n      >\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  )\n}\n\n// Carousel content\nexport const CarouselContent = ({ className, ...props }: React.ComponentProps<'div'>) => {\n  // Hooks\n  const { carouselRef, orientation } = useCarousel()\n\n  // Template\n  return (\n    <div ref={carouselRef} className='overflow-hidden' data-slot='carousel-content'>\n      <div className={cn('flex', orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col', className)} {...props} />\n    </div>\n  )\n}\n\n// Carousel item\nexport const CarouselItem = ({ className, ...props }: React.ComponentProps<'div'>) => {\n  // Hooks\n  const { orientation } = useCarousel()\n\n  // Template\n  return (\n    // biome-ignore lint/a11y/useSemanticElements: Ignore\n    <div\n      role='group'\n      aria-roledescription='slide'\n      data-slot='carousel-item'\n      className={cn('min-w-0 shrink-0 grow-0 basis-full', orientation === 'horizontal' ? 'pl-4' : 'pt-4', className)}\n      {...props}\n    />\n  )\n}\n\n// Carousel previous\nexport const CarouselPrevious = ({\n  className,\n  variant = 'outline',\n  size = 'icon',\n  ...props\n}: React.ComponentProps<typeof Button>) => {\n  // Hooks\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  // Template\n  return (\n    <Button\n      data-slot='carousel-previous'\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute size-8 rounded-full',\n        orientation === 'horizontal'\n          ? '-left-12 -translate-y-1/2 top-1/2'\n          : '-top-12 -translate-x-1/2 left-1/2 rotate-90',\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft />\n      <span className='sr-only'>Previous slide</span>\n    </Button>\n  )\n}\n\n// Carousel next\nexport const CarouselNext = ({\n  className,\n  variant = 'outline',\n  size = 'icon',\n  ...props\n}: React.ComponentProps<typeof Button>) => {\n  // Hooks\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  // Template\n  return (\n    <Button\n      data-slot='carousel-next'\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute size-8 rounded-full',\n        orientation === 'horizontal'\n          ? '-right-12 -translate-y-1/2 top-1/2'\n          : '-bottom-12 -translate-x-1/2 left-1/2 rotate-90',\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight />\n      <span className='sr-only'>Next slide</span>\n    </Button>\n  )\n}\n",
      "type": "registry:ui",
      "target": "src/components/ui/carousel.tsx"
    }
  ]
}