{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "tabs",
  "type": "registry:ui",
  "title": "Tabs",
  "description": "A set of layered sections of content—known as tab panels—that are displayed one at a time.",
  "dependencies": [
    "@radix-ui/react-tabs",
    "motion"
  ],
  "files": [
    {
      "path": "src/registry/new-york/ui/tabs/components/tabs.tsx",
      "content": "import * as TabsPrimitive from '@radix-ui/react-tabs'\nimport { motion } from 'motion/react'\nimport React from 'react'\nimport { cn } from '@/utils/ui'\n\ninterface TabsContextValue {\n  value: string\n  previousValue: string | null\n  direction: number\n  listRef: React.RefObject<HTMLDivElement | null>\n  triggersRef: React.RefObject<Map<string, HTMLButtonElement>>\n  registerTrigger: (value: string, element: HTMLButtonElement | null) => void\n}\n\nconst TabsContext = React.createContext<TabsContextValue | null>(null)\n\nconst useTabsContext = () => {\n  const context = React.useContext(TabsContext)\n  if (!context) {\n    throw new Error('useTabsContext must be used within the Tabs')\n  }\n  return context\n}\n\n// Tabs\nexport const Tabs = ({\n  className,\n  defaultValue,\n  value: controlledValue,\n  onValueChange,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) => {\n  // Refs\n  const valuesRef = React.useRef<string[]>([])\n  const listRef = React.useRef<HTMLDivElement>(null)\n  const triggersRef = React.useRef<Map<string, HTMLButtonElement>>(new Map())\n\n  // States\n  const [internalValue, setInternalValue] = React.useState(defaultValue || '')\n  const [previousValue, setPreviousValue] = React.useState<string | null>(null)\n  const [direction, setDirection] = React.useState(0)\n\n  const value = controlledValue !== undefined ? controlledValue : internalValue\n\n  // Methods\n  const changeValue = React.useCallback(\n    (newValue: string) => {\n      const currentIndex = valuesRef.current.indexOf(value)\n      const newIndex = valuesRef.current.indexOf(newValue)\n      setDirection(newIndex > currentIndex ? 1 : -1)\n      setPreviousValue(value)\n      setInternalValue(newValue)\n      onValueChange?.(newValue)\n    },\n    [value, onValueChange]\n  )\n\n  const registerTrigger = React.useCallback((triggerValue: string, element: HTMLButtonElement | null) => {\n    if (element) {\n      triggersRef.current.set(triggerValue, element)\n      if (!valuesRef.current.includes(triggerValue)) {\n        valuesRef.current.push(triggerValue)\n      }\n    } else {\n      triggersRef.current.delete(triggerValue)\n      valuesRef.current = valuesRef.current.filter((v) => v !== triggerValue)\n    }\n  }, [])\n\n  // Template\n  return (\n    <TabsContext value={{ value, previousValue, direction, triggersRef, listRef, registerTrigger }}>\n      <TabsPrimitive.Root\n        data-slot='tabs'\n        className={cn('flex flex-col gap-2', className)}\n        value={value}\n        onValueChange={changeValue}\n        {...props}\n      />\n    </TabsContext>\n  )\n}\n\n// Tabs list\nexport const TabsList = ({ className, children, ...props }: React.ComponentProps<typeof TabsPrimitive.List>) => {\n  // Hooks\n  const { value, triggersRef, listRef } = useTabsContext()\n\n  // States\n  const [dimensions, setDimensions] = React.useState({ width: 0, height: 0, left: 0 })\n\n  // Effects\n  React.useLayoutEffect(() => {\n    const updateDimensions = () => {\n      const selectedButtonElement = triggersRef.current.get(value)\n      const containerElement = listRef.current\n\n      if (selectedButtonElement && containerElement) {\n        const selectedButtonRect = selectedButtonElement.getBoundingClientRect()\n        const containerRect = containerElement.getBoundingClientRect()\n\n        setDimensions({\n          width: selectedButtonRect.width,\n          height: selectedButtonRect.height,\n          left: selectedButtonRect.left - containerRect.left\n        })\n      }\n    }\n\n    requestAnimationFrame(updateDimensions)\n    window.addEventListener('resize', updateDimensions)\n    return () => window.removeEventListener('resize', updateDimensions)\n  }, [value, triggersRef, listRef])\n\n  // Template\n  return (\n    <TabsPrimitive.List\n      ref={listRef}\n      data-slot='tabs-list'\n      className={cn(\n        'first relative inline-flex h-9 w-fit items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground',\n        { '[&_button:first-child]:bg-primary': true },\n        className\n      )}\n      {...props}\n    >\n      {dimensions.width > 0 && (\n        <motion.div\n          className='absolute rounded-md border bg-primary shadow-sm'\n          initial={false}\n          animate={{\n            width: dimensions.width,\n            left: dimensions.left,\n            opacity: 1\n          }}\n          transition={{\n            type: 'spring',\n            stiffness: 400,\n            damping: 30\n          }}\n          style={{\n            height: dimensions.height\n          }}\n        />\n      )}\n      {children}\n    </TabsPrimitive.List>\n  )\n}\n\n// Tabs trigger\nexport const TabsTrigger = ({ className, value, ...props }: React.ComponentProps<typeof TabsPrimitive.Trigger>) => {\n  // Hooks\n  const { registerTrigger } = useTabsContext()\n\n  // Methods\n  const register = React.useCallback(\n    (element: HTMLButtonElement | null) => {\n      registerTrigger(value, element)\n    },\n    [value, registerTrigger]\n  )\n\n  // Template\n  return (\n    <TabsPrimitive.Trigger\n      ref={register}\n      data-slot='tabs-trigger'\n      value={value}\n      className={cn(\n        \"z-10 inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 font-medium text-muted-foreground text-sm transition-[color,box-shadow] focus-visible:border-ring focus-visible:outline-1 focus-visible:outline-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-primary-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n// Tabs content\nexport const TabsContent = ({\n  className,\n  value,\n  children,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) => {\n  // Hooks\n  const { direction } = useTabsContext()\n\n  // Template\n  return (\n    <TabsPrimitive.Content\n      data-slot='tabs-content'\n      value={value}\n      className={cn('relative flex-1 outline-none', className)}\n      {...props}\n    >\n      <motion.div\n        key={`tabs-content-${value}`}\n        custom={direction}\n        initial={{\n          x: direction > 0 ? 80 : -80,\n          opacity: 0,\n          filter: 'blur(8px)'\n        }}\n        animate={{\n          x: 0,\n          opacity: 1,\n          filter: 'blur(0px)'\n        }}\n        transition={{\n          duration: 0.3,\n          ease: [0.32, 0.72, 0, 1]\n        }}\n        className='w-full'\n      >\n        {children}\n      </motion.div>\n    </TabsPrimitive.Content>\n  )\n}\n",
      "type": "registry:ui",
      "target": "src/components/ui/tabs.tsx"
    }
  ]
}