{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "month-picker",
  "type": "registry:component",
  "title": "Month Picker",
  "description": "A combobox to select a month.",
  "dependencies": [
    "date-fns",
    "lucide-react",
    "@radix-ui/react-slot",
    "class-variance-authority",
    "embla-carousel-react",
    "@radix-ui/react-popover"
  ],
  "registryDependencies": [
    "https://ntt-shadcn-registry.vercel.app/r/year-picker.json",
    "https://ntt-shadcn-registry.vercel.app/r/button.json",
    "https://ntt-shadcn-registry.vercel.app/r/carousel.json",
    "https://ntt-shadcn-registry.vercel.app/r/popover.json",
    "https://ntt-shadcn-registry.vercel.app/r/spinner.json"
  ],
  "files": [
    {
      "path": "src/registry/new-york/molecules/month-picker/components/month-picker.tsx",
      "content": "import { format, isAfter, isBefore, max, min, set } from 'date-fns'\nimport { Calendar, X } from 'lucide-react'\nimport React from 'react'\nimport { YearPicker } from '@/components/molecules/year-picker'\nimport { Button, type ButtonProps } from '@/components/ui/button'\nimport { Carousel, CarouselContent, CarouselItem, CarouselNext, CarouselPrevious } from '@/components/ui/carousel'\nimport {\n  Popover,\n  PopoverContent,\n  type PopoverContentProps,\n  type PopoverProps,\n  PopoverTrigger,\n  type PopoverTriggerProps\n} from '@/components/ui/popover'\nimport type { Option } from '@/types/base'\nimport { cn } from '@/utils/ui'\n\nexport const options: Option[] = Array.from({ length: 12 }).map((_, index) => ({\n  value: index.toString(),\n  label: `${index + 1 < 10 ? '0' : ''}${index + 1}`\n}))\n\nexport const today = new Date()\n\n// Month picker\nexport type MonthPickerProps = {\n  value: Date | null | undefined\n  isCanRemoveValue?: boolean\n  placeholder?: string\n  minDate?: Date\n  maxDate?: Date\n  popoverProps?: PopoverProps\n  popoverTriggerProps?: PopoverTriggerProps\n  buttonTriggerProps?: ButtonProps\n  popoverContentProps?: PopoverContentProps\n  onValueChange: (value: MonthPickerProps['value']) => void\n}\n\nexport const MonthPicker = ({\n  value,\n  isCanRemoveValue = true,\n  placeholder,\n  minDate,\n  maxDate,\n  popoverProps,\n  popoverTriggerProps,\n  buttonTriggerProps,\n  popoverContentProps,\n  onValueChange\n}: MonthPickerProps) => {\n  // Methods\n  const changeValue = (date: Date) => {\n    if (minDate && isBefore(date, minDate)) {\n      return onValueChange(minDate)\n    }\n    if (maxDate && isAfter(date, maxDate)) {\n      return onValueChange(maxDate)\n    }\n    onValueChange(date)\n  }\n\n  // Memos\n  const isEmpty = React.useMemo(() => {\n    return value == null\n  }, [value])\n\n  // Template\n  return (\n    <Popover {...popoverProps}>\n      <PopoverTrigger {...popoverTriggerProps} asChild={popoverTriggerProps?.asChild ?? true}>\n        {popoverTriggerProps?.children ?? (\n          <Button\n            variant='outline'\n            role='combobox'\n            data-empty={isEmpty}\n            {...buttonTriggerProps}\n            className={cn(\n              'w-full justify-start font-normal data-[empty=true]:text-muted-foreground [&_svg]:pointer-events-auto',\n              buttonTriggerProps?.className\n            )}\n          >\n            {buttonTriggerProps?.children ?? (\n              <React.Fragment>\n                <span className='line-clamp-1 block text-ellipsis'>\n                  {value ? format(value, 'MM/yyyy') : placeholder}\n                </span>\n\n                {isCanRemoveValue && !isEmpty ? (\n                  <X\n                    className='ml-auto size-4 shrink-0 text-muted-foreground transition-transform hover:scale-125'\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      onValueChange(null)\n                    }}\n                  />\n                ) : (\n                  <Calendar className='ml-auto size-4 shrink-0 text-muted-foreground' />\n                )}\n              </React.Fragment>\n            )}\n          </Button>\n        )}\n      </PopoverTrigger>\n\n      <PopoverContent\n        {...popoverContentProps}\n        className={cn('min-w-(--radix-popover-trigger-width) p-0', popoverContentProps?.className)}\n      >\n        <div className='space-y-4 p-4'>\n          <YearPicker\n            value={value?.getFullYear().toString()}\n            placeholder='Select year'\n            isCanRemoveValue={false}\n            onValueChange={(yearValue) => {\n              if (!yearValue) return\n              changeValue(\n                set(today, {\n                  date: 1,\n                  month: value ? value.getMonth() : 0,\n                  year: +yearValue\n                })\n              )\n            }}\n          />\n\n          <div className='grid grid-cols-4 gap-y-2'>\n            {options.map((option) => (\n              <Button\n                key={option.value}\n                variant={value && value?.getMonth().toString() === option.value ? 'default' : 'ghost'}\n                onClick={() => {\n                  changeValue(\n                    set(today, {\n                      date: 1,\n                      month: +option.value,\n                      year: value ? value.getFullYear() : today.getFullYear()\n                    })\n                  )\n                }}\n              >\n                {option.label}\n              </Button>\n            ))}\n          </div>\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\n// Month range picker\nexport type MonthRangePickerProps = Pick<\n  MonthPickerProps,\n  'isCanRemoveValue' | 'placeholder' | 'minDate' | 'maxDate'\n> & {\n  value: { start: Date | null | undefined; end: Date | null | undefined } | null | undefined\n  popoverProps?: PopoverProps\n  popoverTriggerProps?: PopoverTriggerProps\n  buttonTriggerProps?: ButtonProps\n  popoverContentProps?: PopoverContentProps\n  onValueChange: (value: MonthRangePickerProps['value']) => void\n}\n\nexport const MonthRangePicker = ({\n  value,\n  isCanRemoveValue = true,\n  placeholder,\n  minDate,\n  maxDate,\n  popoverProps,\n  popoverTriggerProps,\n  buttonTriggerProps,\n  popoverContentProps,\n  onValueChange\n}: MonthRangePickerProps) => {\n  // Methods\n  const changeStartValue = (date: Date) => {\n    if (minDate && isBefore(date, minDate)) {\n      return onValueChange({\n        start: minDate,\n        end: value?.end\n      })\n    }\n\n    if (maxDate && isAfter(date, maxDate)) {\n      return onValueChange({\n        start: maxDate,\n        end: value?.end\n      })\n    }\n\n    onValueChange({\n      start: date,\n      end: value?.end\n    })\n  }\n\n  const changeEndValue = (date: Date) => {\n    if (minDate && isBefore(date, minDate)) {\n      return onValueChange({\n        start: value?.start,\n        end: minDate\n      })\n    }\n\n    if (maxDate && isAfter(date, maxDate)) {\n      return onValueChange({\n        start: value?.start,\n        end: maxDate\n      })\n    }\n\n    onValueChange({\n      start: value?.start,\n      end: date\n    })\n  }\n\n  // Memos\n  const isEmpty = React.useMemo(() => {\n    return !value?.start || !value?.end\n  }, [value])\n\n  // Template\n  return (\n    <Popover {...popoverProps}>\n      <PopoverTrigger {...popoverTriggerProps} asChild={popoverTriggerProps?.asChild ?? true}>\n        {popoverTriggerProps?.children ?? (\n          <Button\n            variant='outline'\n            role='combobox'\n            data-empty={isEmpty}\n            {...buttonTriggerProps}\n            className={cn(\n              'w-full justify-start font-normal data-[empty=true]:text-muted-foreground [&_svg]:pointer-events-auto',\n              buttonTriggerProps?.className\n            )}\n          >\n            {buttonTriggerProps?.children ?? (\n              <React.Fragment>\n                <span className='line-clamp-1 text-ellipsis'>\n                  {value?.start && value?.end\n                    ? `${format(value.start, 'MM/yyyy')} - ${format(value.end, 'MM/yyyy')}`\n                    : placeholder}\n                </span>\n\n                {isCanRemoveValue && !isEmpty ? (\n                  <X\n                    className='ml-auto size-4 shrink-0 text-muted-foreground transition-transform hover:scale-125'\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      onValueChange(null)\n                    }}\n                  />\n                ) : (\n                  <Calendar className='ml-auto size-4 shrink-0 text-muted-foreground' />\n                )}\n              </React.Fragment>\n            )}\n          </Button>\n        )}\n      </PopoverTrigger>\n\n      <PopoverContent\n        {...popoverContentProps}\n        className={cn('min-w-(--radix-popover-trigger-width) p-0', popoverContentProps?.className)}\n      >\n        <Carousel className='w-full max-w-xs'>\n          <CarouselContent>\n            {/* Start month */}\n            <CarouselItem>\n              <div className='space-y-4 p-4'>\n                <div className='text-center font-medium text-xl'>Start</div>\n\n                <YearPicker\n                  value={value?.start?.getFullYear().toString()}\n                  placeholder='Select year'\n                  isCanRemoveValue={false}\n                  onValueChange={(yearValue) => {\n                    if (!yearValue) return\n                    const date = set(today, {\n                      date: 1,\n                      month: value?.start ? value.start.getMonth() : 0,\n                      year: +yearValue\n                    })\n                    changeStartValue(value?.end ? min([date, value.end]) : date)\n                  }}\n                />\n\n                <div className='grid grid-cols-4 gap-y-2'>\n                  {options.map((option) => (\n                    <Button\n                      key={option.value}\n                      variant={\n                        value?.start && value.start?.getMonth().toString() === option.value ? 'default' : 'ghost'\n                      }\n                      onClick={() => {\n                        const date = set(today, {\n                          date: 1,\n                          month: +option.value,\n                          year: value?.start ? value.start.getFullYear() : today.getFullYear()\n                        })\n                        changeStartValue(value?.end ? min([date, value.end]) : date)\n                      }}\n                    >\n                      {option.label}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n            </CarouselItem>\n\n            {/* End month */}\n            <CarouselItem>\n              <div className='space-y-4 p-4'>\n                <div className='text-center font-medium text-xl'>End</div>\n\n                <YearPicker\n                  value={value?.end?.getFullYear().toString()}\n                  placeholder='Select year'\n                  isCanRemoveValue={false}\n                  onValueChange={(yearValue) => {\n                    if (!yearValue) return\n                    const date = set(today, {\n                      date: 1,\n                      month: value?.end ? value.end.getMonth() : 0,\n                      year: +yearValue\n                    })\n                    changeEndValue(value?.start ? max([value.start, date]) : date)\n                  }}\n                />\n\n                <div className='grid grid-cols-4 gap-y-2'>\n                  {options.map((option) => (\n                    <Button\n                      key={option.value}\n                      variant={value?.end && value.end?.getMonth().toString() === option.value ? 'default' : 'ghost'}\n                      onClick={() => {\n                        const date = set(today, {\n                          date: 1,\n                          month: +option.value,\n                          year: value?.end ? value.end.getFullYear() : today.getFullYear()\n                        })\n                        changeEndValue(value?.start ? max([value.start, date]) : date)\n                      }}\n                    >\n                      {option.label}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n            </CarouselItem>\n          </CarouselContent>\n          <CarouselPrevious className='top-8 left-4 rounded-md' />\n          <CarouselNext className='top-8 right-4 rounded-md' />\n        </Carousel>\n      </PopoverContent>\n    </Popover>\n  )\n}\n",
      "type": "registry:ui",
      "target": "src/components/molecules/month-picker/index.tsx"
    },
    {
      "path": "src/types/base.ts",
      "content": "export interface Option {\n  value: string\n  label: string\n}\n",
      "type": "registry:file",
      "target": "src/types/base.ts"
    }
  ]
}