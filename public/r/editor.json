{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "editor",
  "type": "registry:component",
  "title": "Editor",
  "description": "Rich text editor built with Tiptap providing essential formatting tools and markdown support.",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority",
    "@tiptap/react",
    "lucide-react",
    "@radix-ui/react-slider",
    "color",
    "@radix-ui/react-select",
    "@radix-ui/react-popover",
    "@radix-ui/react-tooltip",
    "@tiptap/extension-image",
    "@radix-ui/react-dropdown-menu",
    "@radix-ui/react-separator",
    "@tiptap/extension-youtube",
    "html-react-parser",
    "lodash.throttle",
    "@hookform/resolvers",
    "react-dropzone",
    "react-hook-form",
    "sonner",
    "zod",
    "@radix-ui/react-label",
    "@radix-ui/react-tabs",
    "motion"
  ],
  "registryDependencies": [
    "https://ntt-shadcn-registry.vercel.app/r/button.json",
    "https://ntt-shadcn-registry.vercel.app/r/spinner.json",
    "https://ntt-shadcn-registry.vercel.app/r/color-picker.json",
    "https://ntt-shadcn-registry.vercel.app/r/input.json",
    "https://ntt-shadcn-registry.vercel.app/r/select.json",
    "https://ntt-shadcn-registry.vercel.app/r/popover.json",
    "https://ntt-shadcn-registry.vercel.app/r/dropdown-menu.json",
    "https://ntt-shadcn-registry.vercel.app/r/separator.json",
    "https://ntt-shadcn-registry.vercel.app/r/skeleton.json",
    "https://ntt-shadcn-registry.vercel.app/r/label.json",
    "https://ntt-shadcn-registry.vercel.app/r/tooltip.json",
    "https://ntt-shadcn-registry.vercel.app/r/kbd.json"
  ],
  "files": [
    {
      "path": "src/registry/new-york/organisms/editor/components/blockquote-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Quote } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst BlockquoteButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: editor?.isActive('blockquote')\n      }\n    }\n  })\n\n  // Template\n  return (\n    <TooltipButton\n      Icon={Quote}\n      label='Blockquote'\n      isActive={editorState?.isActive}\n      kbd='Ctrl Shift B'\n      onClick={() => editor?.chain().focus().toggleBlockquote().run()}\n    />\n  )\n})\n\nBlockquoteButton.displayName = 'BlockquoteButton'\nexport default BlockquoteButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/blockquote-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/bold-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Bold } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst BoldButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: editor?.isActive('bold')\n      }\n    }\n  })\n\n  // Template\n  return (\n    <TooltipButton\n      Icon={Bold}\n      label='Bold'\n      isActive={editorState?.isActive}\n      kbd='Ctrl B'\n      onClick={() => editor?.chain().focus().toggleBold().run()}\n    />\n  )\n})\n\nBoldButton.displayName = 'BoldButton'\nexport default BoldButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/bold-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/color-picker-button.tsx",
      "content": "import { Palette } from 'lucide-react'\nimport {\n  ColorPicker,\n  ColorPickerAlpha,\n  ColorPickerEyeDropper,\n  ColorPickerFormat,\n  ColorPickerHue,\n  ColorPickerOutput,\n  type ColorPickerProps,\n  ColorPickerSelection\n} from '@/components/molecules/color-picker'\nimport { Button } from '@/components/ui/button'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\n\n// Component\nconst ColorPickerButton = (props: ColorPickerProps) => {\n  // Template\n  return (\n    <Popover>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button variant='outline' size='icon'>\n              <Palette />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Pick color</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent className='w-sm'>\n        <ColorPicker {...props}>\n          <ColorPickerSelection />\n          <div className='flex items-center gap-2'>\n            <ColorPickerEyeDropper />\n            <div className='grow space-y-1'>\n              <ColorPickerHue />\n              <ColorPickerAlpha />\n            </div>\n          </div>\n          <div className='flex items-center gap-2'>\n            <ColorPickerFormat />\n            <ColorPickerOutput />\n          </div>\n        </ColorPicker>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\nexport default ColorPickerButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/color-picker-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/custom-image-extension.tsx",
      "content": "import Image from '@tiptap/extension-image'\nimport {\n  mergeAttributes,\n  NodeViewWrapper,\n  type ReactNodeViewProps,\n  ReactNodeViewRenderer,\n  useCurrentEditor\n} from '@tiptap/react'\nimport { AlignLeft, ChevronDown, Trash } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Separator } from '@/components/ui/separator'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { cn } from '@/utils/ui'\nimport { type Alignment, alignments, containerClassNamePerAlignment, minWidth } from './lib'\n\n// [T] Image attributes\ntype ImageAttributes = Pick<React.ImgHTMLAttributes<HTMLImageElement>, 'alt' | 'height' | 'src' | 'title' | 'width'> & {\n  alignment: Alignment\n  containerStyle: React.CSSProperties\n}\n\n// [T] Resizing position\ntype ResizingPosition = 'left' | 'right'\n\n// [C] Base resize handler class name\nconst BASE_RESIZE_HANDLER_CLASS_NAME =\n  'invisible absolute top-0 bottom-0 cursor-ew-resize px-2 transition-[visibility_width] group-hover:visible before:absolute before:top-1/2 before:h-1/2 before:max-h-36 before:w-1 before:-translate-y-1/2 before:rounded-md before:bg-muted before:border-muted-foreground before:content-[\"\"]'\n\n// Component\nconst ImageComponent = (props: ReactNodeViewProps<HTMLImageElement>) => {\n  // Props\n  const { node, updateAttributes, deleteNode } = props\n  const { alignment, containerStyle, ...imageAttributes } = node.attrs as ImageAttributes\n\n  // Hooks\n  const { editor } = useCurrentEditor()\n\n  // Refs\n  const containerRef = React.useRef<HTMLDivElement>(null)\n\n  // States\n  const [isLoaded, setIsLoaded] = React.useState(false)\n  const [isOpenPopover, setIsOpenPopover] = React.useState(false)\n\n  // Methods\n  const loadImage = () => {\n    setIsLoaded(true)\n  }\n\n  const changeAlignment = (alignment: Alignment) => {\n    // Update alignment\n    updateAttributes({\n      alignment\n    })\n\n    // Update width (full) if alignment is justify\n    if (alignment === 'justify') {\n      updateAttributes({\n        width: containerRef.current?.clientWidth,\n        containerStyle: {\n          ...containerStyle,\n          width: '100%'\n        }\n      })\n    }\n\n    // Focus editor\n    editor?.commands.focus()\n  }\n\n  const downPointer = (pointerDownEvent: React.PointerEvent<HTMLDivElement>, position: ResizingPosition) => {\n    pointerDownEvent.preventDefault()\n    pointerDownEvent.stopPropagation()\n\n    // Handle move pointer\n    const handleMovePointer = (pointerMoveEvent: MouseEvent) => {\n      pointerMoveEvent.preventDefault()\n      pointerMoveEvent.stopPropagation()\n\n      const containerWidth = containerRef.current?.clientWidth ?? 0\n      const deltaX =\n        (position === 'left'\n          ? pointerDownEvent.clientX - pointerMoveEvent.clientX\n          : pointerMoveEvent.clientX - pointerDownEvent.clientX) * 2\n      const newWidth = Math.round(\n        Math.max(minWidth, Math.min(containerWidth, (imageAttributes.width as number) + deltaX))\n      )\n\n      updateAttributes({\n        width: newWidth,\n        containerStyle: {\n          ...containerStyle,\n          width: `${Math.round((newWidth * 100) / containerWidth)}%`\n        }\n      })\n    }\n\n    // Handle up pointer\n    const handleUpPointer = (pointerUpEvent: MouseEvent) => {\n      pointerUpEvent.preventDefault()\n      pointerUpEvent.stopPropagation()\n\n      editor?.commands.focus()\n\n      document.removeEventListener('pointermove', handleMovePointer)\n      document.removeEventListener('pointerup', handleUpPointer)\n    }\n\n    document.addEventListener('pointermove', handleMovePointer)\n    document.addEventListener('pointerup', handleUpPointer)\n  }\n\n  const deleteImage = () => {\n    deleteNode()\n    editor?.commands.focus()\n  }\n\n  // Template\n  return (\n    <NodeViewWrapper data-drag-handle>\n      <div ref={containerRef} className={cn('flex', containerClassNamePerAlignment[alignment])}>\n        <div className='group relative transition-all' style={containerStyle}>\n          {!isLoaded && <Skeleton className='absolute inset-0 rounded-md' />}\n\n          <Popover open={isOpenPopover} onOpenChange={setIsOpenPopover}>\n            <PopoverTrigger>\n              <img\n                {...imageAttributes}\n                alt='Alt'\n                className={cn(\n                  'peer pointer-events-none w-full object-contain opacity-0 outline-2 outline-transparent outline-offset-2 transition-all',\n                  {\n                    'outline-inherit': isOpenPopover,\n                    'pointer-events-auto opacity-100': isLoaded\n                  }\n                )}\n                onLoad={loadImage}\n              />\n            </PopoverTrigger>\n\n            <PopoverContent className='space-y-4' side='top'>\n              <div className='flex gap-2'>\n                {/* Alignment */}\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button variant='outline'>\n                      <AlignLeft />\n                      <ChevronDown />\n                    </Button>\n                  </DropdownMenuTrigger>\n\n                  <DropdownMenuContent>\n                    {alignments.map((alignmentOption) => (\n                      <DropdownMenuItem\n                        key={alignmentOption.value}\n                        className={cn({\n                          'bg-accent': alignment === alignmentOption.value\n                        })}\n                        onClick={() => changeAlignment(alignmentOption.value)}\n                      >\n                        <alignmentOption.icon />\n                        <span>{alignmentOption.label}</span>\n                      </DropdownMenuItem>\n                    ))}\n                  </DropdownMenuContent>\n                </DropdownMenu>\n\n                <Separator orientation='vertical' className='h-10' />\n\n                {/* Trash */}\n                <Button variant='outline' size='icon' onClick={deleteImage}>\n                  <Trash />\n                </Button>\n              </div>\n            </PopoverContent>\n          </Popover>\n\n          <div\n            className={cn('left-1 before:left-1.5', BASE_RESIZE_HANDLER_CLASS_NAME)}\n            onPointerDown={(e) => downPointer(e, 'left')}\n          />\n\n          <div\n            className={cn('right-1 before:right-1.5', BASE_RESIZE_HANDLER_CLASS_NAME)}\n            onPointerDown={(e) => downPointer(e, 'right')}\n          />\n        </div>\n      </div>\n    </NodeViewWrapper>\n  )\n}\n\n// Extension\nconst CustomImageExtension = Image.extend({\n  renderHTML({ HTMLAttributes }) {\n    const { alignment, containerStyle, ...imageAttributes } = HTMLAttributes as ImageAttributes\n    return [\n      'div',\n      {\n        class: cn('flex', containerClassNamePerAlignment[alignment])\n      },\n      [\n        'div',\n        {\n          style: Object.entries(containerStyle)\n            .map(([key, value]) => `${key}: ${value}`)\n            .join(';')\n        },\n        [\n          'img',\n          {\n            ...mergeAttributes(imageAttributes),\n            class: 'w-full object-contain rounded-md'\n          }\n        ]\n      ]\n    ]\n  },\n  addAttributes() {\n    return {\n      ...this.parent?.(),\n      width: {\n        default: minWidth\n      },\n      alignment: {\n        default: 'center'\n      },\n      containerStyle: {\n        default: {\n          width: `${minWidth}px`\n        }\n      }\n    }\n  },\n  addNodeView() {\n    return ReactNodeViewRenderer(ImageComponent)\n  }\n})\n\nexport default CustomImageExtension\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/custom-image-extension.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/custom-youtube-extension.tsx",
      "content": "import Youtube from '@tiptap/extension-youtube'\nimport {\n  mergeAttributes,\n  NodeViewWrapper,\n  type ReactNodeViewProps,\n  ReactNodeViewRenderer,\n  useCurrentEditor\n} from '@tiptap/react'\nimport { AlignLeft, ChevronDown, MoveHorizontal, Trash } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Separator } from '@/components/ui/separator'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { cn } from '@/utils/ui'\nimport { type Alignment, alignments, containerClassNamePerAlignment, isValidYoutubeUrl, minWidth } from './lib'\n\n// [T] youtube attributes\ntype YoutubeAttributes = React.IframeHTMLAttributes<HTMLIFrameElement> & {\n  alignment: Alignment\n  containerStyle: React.CSSProperties\n}\n\n// [C] Width sizes\nconst widthSizes: string[] = ['25%', '50%', '75%', '100%']\n\n// [U] Get youtube embed url\nexport const getYoutubeEmbedUrl = (nocookie?: boolean, isPlaylist?: boolean) => {\n  if (isPlaylist) {\n    return 'https://www.youtube-nocookie.com/embed/videoseries?list='\n  }\n  return nocookie ? 'https://www.youtube-nocookie.com/embed/' : 'https://www.youtube.com/embed/'\n}\n\n// [U] Get embed url from youtube url\nconst getEmbedUrlFromYoutubeUrl = (options: {\n  url: string\n  allowFullscreen?: boolean\n  autoplay?: boolean\n  ccLanguage?: string\n  ccLoadPolicy?: boolean\n  controls?: boolean\n  disableKBcontrols?: boolean\n  enableIFrameApi?: boolean\n  endTime?: number\n  interfaceLanguage?: string\n  ivLoadPolicy?: number\n  loop?: boolean\n  modestBranding?: boolean\n  nocookie?: boolean\n  origin?: string\n  playlist?: string\n  progressBarColor?: string\n  startAt?: number\n  rel?: number\n}) => {\n  const {\n    url,\n    allowFullscreen,\n    autoplay,\n    ccLanguage,\n    ccLoadPolicy,\n    controls,\n    disableKBcontrols,\n    enableIFrameApi,\n    endTime,\n    interfaceLanguage,\n    ivLoadPolicy,\n    loop,\n    modestBranding,\n    nocookie,\n    origin,\n    playlist,\n    progressBarColor,\n    startAt,\n    rel\n  } = options\n\n  if (!isValidYoutubeUrl(url)) {\n    return null\n  }\n\n  // If is already an embed url, return it\n  if (url.includes('/embed/')) {\n    return url\n  }\n\n  // If is a youtu.be url, get the id after the /\n  if (url.includes('youtu.be')) {\n    const id = url.split('/').pop()\n\n    if (!id) {\n      return null\n    }\n    return `${getYoutubeEmbedUrl(nocookie)}${id}`\n  }\n\n  const videoIdRegex = /(?:(v|list)=|shorts\\/)([-\\w]+)/gm\n  const matches = videoIdRegex.exec(url)\n\n  if (!matches || !matches[2]) {\n    return null\n  }\n\n  let outputUrl = `${getYoutubeEmbedUrl(nocookie, matches[1] === 'list')}${matches[2]}`\n\n  const params = []\n\n  if (allowFullscreen === false) {\n    params.push('fs=0')\n  }\n\n  if (autoplay) {\n    params.push('autoplay=1')\n  }\n\n  if (ccLanguage) {\n    params.push(`cc_lang_pref=${ccLanguage}`)\n  }\n\n  if (ccLoadPolicy) {\n    params.push('cc_load_policy=1')\n  }\n\n  if (!controls) {\n    params.push('controls=0')\n  }\n\n  if (disableKBcontrols) {\n    params.push('disablekb=1')\n  }\n\n  if (enableIFrameApi) {\n    params.push('enablejsapi=1')\n  }\n\n  if (endTime) {\n    params.push(`end=${endTime}`)\n  }\n\n  if (interfaceLanguage) {\n    params.push(`hl=${interfaceLanguage}`)\n  }\n\n  if (ivLoadPolicy) {\n    params.push(`iv_load_policy=${ivLoadPolicy}`)\n  }\n\n  if (loop) {\n    params.push('loop=1')\n  }\n\n  if (modestBranding) {\n    params.push('modestbranding=1')\n  }\n\n  if (origin) {\n    params.push(`origin=${origin}`)\n  }\n\n  if (playlist) {\n    params.push(`playlist=${playlist}`)\n  }\n\n  if (startAt) {\n    params.push(`start=${startAt}`)\n  }\n\n  if (progressBarColor) {\n    params.push(`color=${progressBarColor}`)\n  }\n\n  if (rel !== undefined) {\n    params.push(`rel=${rel}`)\n  }\n\n  if (params.length) {\n    outputUrl += `${matches[1] === 'v' ? '?' : '&'}${params.join('&')}`\n  }\n\n  return outputUrl\n}\n\n// Component\nconst YoutubeComponent = (props: ReactNodeViewProps<HTMLImageElement>) => {\n  // Props\n  const { node, updateAttributes, deleteNode } = props\n  const { alignment, containerStyle, ...youtubeAttributes } = node.attrs as YoutubeAttributes\n\n  // Hooks\n  const { editor } = useCurrentEditor()\n\n  // Refs\n  const containerRef = React.useRef<HTMLDivElement>(null)\n\n  // States\n  const [src] = React.useState(\n    () =>\n      getEmbedUrlFromYoutubeUrl({\n        url: youtubeAttributes.src as string,\n        nocookie: true\n      }) ?? undefined\n  )\n  const [isLoaded, setIsLoaded] = React.useState(false)\n  const [isOpenPopover, setIsOpenPopover] = React.useState(false)\n\n  // Methods\n  // Handle load video\n  const handleLoadVideo = () => {\n    setIsLoaded(true)\n  }\n\n  // Handle change alignment\n  const handleChangeAlignment = (alignment: Alignment) => {\n    // Update alignment\n    updateAttributes({\n      alignment\n    })\n\n    // Update width (full) if alignment is justify\n    if (alignment === 'justify') {\n      updateAttributes({\n        width: containerRef.current?.clientWidth,\n        containerStyle: {\n          ...containerStyle,\n          width: '100%'\n        }\n      })\n    }\n\n    // Focus editor\n    editor?.commands.focus()\n  }\n\n  // Handle change width size\n  const handleChangeWidthSize = (size: string) => {\n    updateAttributes({\n      containerStyle: {\n        ...containerStyle,\n        width: size\n      }\n    })\n    editor?.commands.focus()\n  }\n\n  // Handle delete video\n  const handleDeleteVideo = () => {\n    deleteNode()\n    editor?.commands.focus()\n  }\n\n  // Template\n  return (\n    <NodeViewWrapper data-drag-handle>\n      <div ref={containerRef} className={cn('flex', containerClassNamePerAlignment[alignment])}>\n        <Popover open={isOpenPopover} onOpenChange={setIsOpenPopover}>\n          <PopoverTrigger\n            className={cn('group relative aspect-video rounded-md border p-6 transition-all', {\n              'border-primary': isOpenPopover,\n              'pointer-events-auto opacity-100': isLoaded\n            })}\n            style={containerStyle}\n          >\n            {!isLoaded && <Skeleton className='pointer-events-none absolute inset-0 rounded-md' />}\n\n            <iframe\n              src={src}\n              width={youtubeAttributes.width}\n              height={youtubeAttributes.height}\n              allowFullScreen={false}\n              className='size-full rounded-md object-contain'\n              title='custom-youtube-extension'\n              onLoad={handleLoadVideo}\n            />\n          </PopoverTrigger>\n\n          <PopoverContent className='space-y-4' side='top'>\n            <div className='flex gap-2'>\n              {/* Alignment */}\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant='outline'>\n                    <AlignLeft />\n                    <ChevronDown />\n                  </Button>\n                </DropdownMenuTrigger>\n\n                <DropdownMenuContent>\n                  {alignments.map((alignmentOption) => (\n                    <DropdownMenuItem\n                      key={alignmentOption.value}\n                      className={cn({\n                        'bg-accent': alignment === alignmentOption.value\n                      })}\n                      onClick={() => handleChangeAlignment(alignmentOption.value)}\n                    >\n                      <alignmentOption.icon />\n                      <span>{alignmentOption.label}</span>\n                    </DropdownMenuItem>\n                  ))}\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              <Separator orientation='vertical' className='h-10' />\n\n              {/* Width size */}\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant='outline'>\n                    <MoveHorizontal />\n                    <ChevronDown />\n                  </Button>\n                </DropdownMenuTrigger>\n\n                <DropdownMenuContent>\n                  {widthSizes.map((size) => (\n                    <DropdownMenuItem\n                      key={size}\n                      className={cn({\n                        'bg-accent': containerStyle.width === size\n                      })}\n                      onClick={() => handleChangeWidthSize(size)}\n                    >\n                      {size}\n                    </DropdownMenuItem>\n                  ))}\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              <Separator orientation='vertical' className='h-10' />\n\n              {/* Trash */}\n              <Button variant='outline' size='icon' onClick={handleDeleteVideo}>\n                <Trash />\n              </Button>\n            </div>\n          </PopoverContent>\n        </Popover>\n      </div>\n    </NodeViewWrapper>\n  )\n}\n\n// Extension\nexport const CustomYoutubeExtension = Youtube.extend({\n  renderHTML({ HTMLAttributes }) {\n    const { alignment, containerStyle, ...youtubeAttributes } = HTMLAttributes as YoutubeAttributes\n\n    const embedUrl = getEmbedUrlFromYoutubeUrl({\n      url: HTMLAttributes.src,\n      allowFullscreen: this.options.allowFullscreen,\n      autoplay: this.options.autoplay,\n      ccLanguage: this.options.ccLanguage,\n      ccLoadPolicy: this.options.ccLoadPolicy,\n      controls: this.options.controls,\n      disableKBcontrols: this.options.disableKBcontrols,\n      enableIFrameApi: this.options.enableIFrameApi,\n      endTime: this.options.endTime,\n      interfaceLanguage: this.options.interfaceLanguage,\n      ivLoadPolicy: this.options.ivLoadPolicy,\n      loop: this.options.loop,\n      modestBranding: this.options.modestBranding,\n      nocookie: this.options.nocookie,\n      origin: this.options.origin,\n      playlist: this.options.playlist,\n      progressBarColor: this.options.progressBarColor,\n      startAt: HTMLAttributes.start || 0,\n      rel: this.options.rel\n    })\n\n    if (embedUrl) {\n      youtubeAttributes.src = embedUrl\n    }\n\n    return [\n      'div',\n      {\n        class: cn('flex', containerClassNamePerAlignment[alignment])\n      },\n      [\n        'div',\n        {\n          class: 'aspect-video',\n          style: Object.entries(containerStyle)\n            .map(([key, value]) => `${key}: ${value}`)\n            .join(';')\n        },\n        [\n          'iframe',\n          {\n            ...mergeAttributes(\n              this.options.HTMLAttributes,\n              {\n                width: this.options.width,\n                height: this.options.height,\n                allowfullscreen: this.options.allowFullscreen,\n                autoplay: this.options.autoplay,\n                ccLanguage: this.options.ccLanguage,\n                ccLoadPolicy: this.options.ccLoadPolicy,\n                disableKBcontrols: this.options.disableKBcontrols,\n                enableIFrameApi: this.options.enableIFrameApi,\n                endTime: this.options.endTime,\n                interfaceLanguage: this.options.interfaceLanguage,\n                ivLoadPolicy: this.options.ivLoadPolicy,\n                loop: this.options.loop,\n                modestBranding: this.options.modestBranding,\n                origin: this.options.origin,\n                playlist: this.options.playlist,\n                progressBarColor: this.options.progressBarColor,\n                rel: this.options.rel\n              },\n              youtubeAttributes\n            ),\n            class: 'size-full rounded-md object-contain'\n          }\n        ]\n      ]\n    ]\n  },\n  addAttributes() {\n    return {\n      ...this.parent?.(),\n      alignment: {\n        default: 'center'\n      },\n      containerStyle: {\n        default: {\n          width: `${minWidth}px`\n        }\n      }\n    }\n  },\n  addNodeView() {\n    return ReactNodeViewRenderer(YoutubeComponent)\n  }\n})\n\nexport default CustomYoutubeExtension\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/custom-youtube-extension.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/editor-content.tsx",
      "content": "import type { Content } from '@tiptap/react'\nimport parse from 'html-react-parser'\n\n// Editor content\nexport const EditorContent = ({ content }: { content: Content }) => {\n  // Template\n  if (typeof content === 'string') {\n    return <div className='tiptap'>{parse(content)}</div>\n  }\n  return null\n}\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/editor-content.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/editor.tsx",
      "content": "import {\n  type Content,\n  type Extensions,\n  EditorContext as TiptapEditorContext,\n  type UseEditorOptions,\n  useEditor\n} from '@tiptap/react'\nimport throttle from 'lodash.throttle'\nimport React from 'react'\nimport { Spinner } from '@/components/ui/spinner'\nimport BlockquoteButton from './blockquote-button'\nimport BoldButton from './bold-button'\nimport FileButton from './file-button'\nimport HighlightButton from './highlight-button'\nimport HistoryButtons from './history-buttons'\nimport ImageButton from './image-button'\nimport InternalEditorContent from './internal-editor-content'\nimport ItalicButton from './italic-button'\nimport { defaultExtensions, getEditorValue } from './lib'\nimport LinkButton from './link-button'\nimport ListButton from './list-button'\nimport PreviewButton from './preview-button'\nimport StrikeButton from './strike-button'\nimport TableButton from './table-button'\nimport TextAlignButton from './text-align-button'\nimport TextColorButton from './text-color-button'\nimport TextStyleButton from './text-style-button'\nimport ToolbarSeparator from './toolbar-separator'\nimport UnderlineButton from './underline-button'\nimport YoutubeButton from './youtube-button'\nimport ZoomButton from './zoom-button'\n\n// Editor\nexport type EditorProps = UseEditorOptions & {\n  value: Content\n  onValueChange: (value: Content) => void\n}\n\nexport type CallbackRef = React.RefObject<((editor: ReturnType<typeof useEditor> | null) => void) | null>\n\nexport type SetExtensions = React.Dispatch<React.SetStateAction<Extensions>>\n\nexport const Editor = ({ value, onValueChange, ...props }: EditorProps) => {\n  // Hooks\n  const id = React.useId()\n\n  // Refs\n  const callbackRef = React.useRef<CallbackRef['current']>(null)\n\n  // States\n  const [extensions, setExtensions] = React.useState<Extensions>(defaultExtensions)\n\n  // Hooks\n  const editor = useEditor(\n    {\n      extensions,\n      editorProps: {\n        attributes: {\n          autocomplete: 'off',\n          autocorrect: 'off',\n          autocapitalize: 'off'\n        }\n      },\n      immediatelyRender: false,\n      onUpdate: React.useMemo(() => {\n        return throttle(\n          ({ editor }) => {\n            onValueChange(getEditorValue(editor, 'html'))\n          },\n          1000,\n          {\n            trailing: false\n          }\n        )\n      }, [onValueChange]),\n      onCreate: ({ editor }) => {\n        if (value && editor.isEmpty) {\n          editor.commands.setContent(value)\n        }\n        callbackRef.current?.(editor)\n        callbackRef.current = null\n      },\n      onBlur: ({ editor }) => {\n        onValueChange(getEditorValue(editor, 'html'))\n      },\n      ...props\n    },\n    [extensions]\n  )\n\n  // Template\n  if (!editor) {\n    return <Spinner className='mx-auto size-6' />\n  }\n\n  return (\n    <TiptapEditorContext value={{ editor }}>\n      <div\n        id={`editor-${id}`}\n        className='w-full transition-all [&_.tiptap]:max-h-[500px] [&_.tiptap]:min-h-64 [&_.tiptap]:overflow-auto [&_.tiptap]:border-none [&_.tiptap]:p-6 [&_.tiptap]:outline-none'\n      >\n        <div className='text rounded-md border border-input text-foreground ring-offset-background transition-[color,box-shadow] placeholder:text-muted-foreground has-[.ProseMirror-focused]:border-ring has-[.ProseMirror-focused]:ring-[3px] has-[.ProseMirror-focused]:ring-ring/50 group-data-[invalid=true]/field:border-destructive group-data-[invalid=true]/field:ring-destructive/20 group-data-[invalid=true]/field:has-[.ProseMirror-focused]:border-destructive group-data-[invalid=true]/field:dark:ring-destructive/40'>\n          <div className='flex flex-wrap items-center gap-1 border-input border-b p-4'>\n            <HistoryButtons />\n            <ToolbarSeparator />\n\n            <BoldButton />\n            <ItalicButton />\n            <UnderlineButton />\n            <StrikeButton />\n            <BlockquoteButton />\n            <ToolbarSeparator />\n\n            <TextStyleButton />\n            <TextAlignButton callbackRef={callbackRef} setExtensions={setExtensions} />\n            <TextColorButton />\n            <HighlightButton />\n            <ToolbarSeparator />\n\n            <LinkButton id={id} />\n            <ListButton />\n            <TableButton callbackRef={callbackRef} setExtensions={setExtensions} />\n            <YoutubeButton id={id} callbackRef={callbackRef} setExtensions={setExtensions} />\n            <ImageButton id={id} />\n            <FileButton id={id} />\n            <ToolbarSeparator />\n\n            <ZoomButton id={id} />\n            <PreviewButton value={value} />\n          </div>\n\n          <InternalEditorContent />\n        </div>\n      </div>\n    </TiptapEditorContext>\n  )\n}\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/editor.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/file-button.tsx",
      "content": "import { zodResolver } from '@hookform/resolvers/zod'\nimport { useCurrentEditor } from '@tiptap/react'\nimport { CheckCircle, Paperclip } from 'lucide-react'\nimport { memo, useState } from 'react'\nimport type { DropzoneOptions } from 'react-dropzone'\nimport { Controller, FormProvider, useForm } from 'react-hook-form'\nimport { toast } from 'sonner'\nimport z from 'zod'\nimport {\n  FileUpload,\n  FileUploadContent,\n  FileUploadInput,\n  FileUploadItem,\n  getFileUrl,\n  type UploadedFile,\n  useFileUpload\n} from '@/components/molecules/file-upload'\nimport { Button } from '@/components/ui/button'\nimport { Field, FieldError, FieldLabel } from '@/components/ui/field'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\n\n// [C] File form schema\nexport const fileFormSchema = z.object({\n  files: z.array(z.custom<File>()).min(1, 'Please select the file')\n})\n\n// [C]  Default file form value\nexport const defaultFileFormValue: z.input<typeof fileFormSchema> = {\n  files: []\n}\n\n// [C]  File uploader dropzone options\nexport const fileUploaderDropzoneOptions: DropzoneOptions = {\n  maxFiles: 10,\n  multiple: true,\n  accept: {\n    'application/msword': ['.doc'],\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\n    'application/xml': ['.xml'],\n    'application/pdf': ['.pdf']\n  }\n}\n\n// Component\nconst FileButton = memo<{\n  id: string\n}>(({ id }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const { isUploadFilePending, uploadFile } = useFileUpload()\n\n  // States\n  const [isOpenPopover, setIsOpenPopover] = useState(false)\n\n  // Form\n  const fileForm = useForm({\n    resolver: zodResolver(fileFormSchema),\n    defaultValues: defaultFileFormValue\n  })\n\n  // Methods\n  const insertFileNodes = async (fieldValues: z.output<typeof fileFormSchema>) => {\n    try {\n      // Upload file\n      const uploadedFiles = (await Promise.all(fieldValues.files.map(async (file) => await uploadFile(file)))).filter(\n        Boolean\n      ) as UploadedFile[]\n\n      // Add file node view\n      uploadedFiles.forEach((uploadedFile) => {\n        editor\n          ?.chain()\n          .focus()\n          // @ts-expect-error - custom command from FileExtension\n          .insertFile({\n            url: getFileUrl(uploadedFile.path),\n            name: uploadedFile.original,\n            mime: uploadedFile.mime,\n            size: uploadedFile.compress_info[''].size\n          })\n          .run()\n      })\n\n      // Enter new line\n      if (uploadedFiles.length > 0) {\n        editor?.commands.enter()\n      }\n\n      // Close popover\n      setIsOpenPopover(false)\n    } catch {\n      toast.error('Failure', {\n        description: 'An error occurred, please try again'\n      })\n    }\n  }\n\n  // Template\n  return (\n    <Popover open={isOpenPopover} onOpenChange={setIsOpenPopover}>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button size='icon' variant='ghost'>\n              <Paperclip />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>File</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent className='w-xs space-y-6' onCloseAutoFocus={() => fileForm.reset()}>\n        <div>Acceptable formats: doc, docx, xlsx, xml, pdf</div>\n\n        <FormProvider {...fileForm}>\n          <form>\n            <Controller\n              control={fileForm.control}\n              name='files'\n              render={({ field, fieldState }) => (\n                <Field data-invalid={fieldState.invalid}>\n                  <FieldLabel htmlFor={`editor-${id}-image-button-image-form-files`}>Files</FieldLabel>\n                  <FileUpload\n                    value={field.value}\n                    dropzoneOptions={fileUploaderDropzoneOptions}\n                    className='xl:grid-cols-1'\n                    onValueChange={field.onChange}\n                  >\n                    <FileUploadInput\n                      id={`editor-${id}-image-button-image-form-files`}\n                      aria-invalid={fieldState.invalid}\n                    />\n\n                    <FileUploadContent>\n                      {field.value.map((value, index) => (\n                        <FileUploadItem\n                          // biome-ignore lint/suspicious/noArrayIndexKey: ignore\n                          key={index}\n                          index={index}\n                          value={value}\n                        />\n                      ))}\n                    </FileUploadContent>\n                  </FileUpload>\n                  {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                </Field>\n              )}\n            />\n          </form>\n        </FormProvider>\n\n        <div className='flex items-center justify-end gap-1'>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size='icon'\n                isLoading={isUploadFilePending}\n                variant='outline'\n                onClick={fileForm.handleSubmit(insertFileNodes)}\n              >\n                <CheckCircle />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>submitButton</TooltipContent>\n          </Tooltip>\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n})\n\nFileButton.displayName = 'FileButton'\nexport default FileButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/file-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/file-extension.tsx",
      "content": "import {\n  type ChainedCommands,\n  mergeAttributes,\n  Node,\n  NodeViewWrapper,\n  type ReactNodeViewProps,\n  ReactNodeViewRenderer,\n  useCurrentEditor\n} from '@tiptap/react'\nimport { Paperclip, Trash } from 'lucide-react'\nimport type React from 'react'\nimport type { FileAttributes } from '@/@types/tiptap'\nimport { getSizeText } from '@/components/molecules/file-upload'\nimport { Button } from '@/components/ui/button'\n\n// Component\nconst FileComponent = (props: ReactNodeViewProps<HTMLAnchorElement>) => {\n  const { node, deleteNode } = props\n  const nodeAttrs = node.attrs as FileAttributes\n\n  // Hooks\n  const { editor } = useCurrentEditor()\n\n  // Methods\n  const deleteFile: React.MouseEventHandler<HTMLButtonElement> = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    deleteNode()\n    editor?.commands.focus()\n  }\n\n  // Template\n  return (\n    <NodeViewWrapper>\n      <a\n        href={nodeAttrs.url}\n        target='_blank'\n        rel='noreferrer'\n        className='flex w-full items-center gap-4 rounded-md border p-4 transition-colors duration-200 hover:bg-gray-200 hover:no-underline'\n      >\n        <Paperclip className='size-4' />\n\n        <div className='grow space-y-2 overflow-hidden'>\n          <div className='line-clamp-1'>{nodeAttrs.name}</div>\n          <div>{getSizeText(nodeAttrs.size)}</div>\n        </div>\n\n        <Button variant='ghost' size='icon' onClick={deleteFile}>\n          <Trash />\n        </Button>\n      </a>\n    </NodeViewWrapper>\n  )\n}\n\n// Extension\nconst FileExtension = Node.create({\n  name: 'file',\n  group: 'block',\n  selectable: true,\n  draggable: true,\n  addOptions() {\n    return {\n      HTMLAttributes: {\n        target: '_blank',\n        rel: 'noreferrer'\n      }\n    }\n  },\n  addAttributes() {\n    return {\n      url: {\n        default: null\n      },\n      name: {\n        default: null\n      },\n      mime: {\n        default: null\n      },\n      size: {\n        default: 0\n      }\n    }\n  },\n  parseHTML() {\n    return [\n      {\n        tag: 'a'\n      }\n    ]\n  },\n  renderHTML({ HTMLAttributes }) {\n    const { url, name, size } = HTMLAttributes as FileAttributes\n\n    return [\n      'a',\n      mergeAttributes(this.options.HTMLAttributes, {\n        href: url,\n        class:\n          'flex items-center gap-4 rounded-md border p-4 transition-colors duration-200 hover:bg-gray-200 hover:no-underline'\n      }),\n      [\n        'svg',\n        {\n          xmlns: 'http://www.w3.org/2000/svg',\n          width: '24',\n          height: '24',\n          viewBox: '0 0 24 24',\n          fill: 'none',\n          stroke: 'currentColor',\n          'stroke-width': '2',\n          'stroke-linecap': 'round',\n          'stroke-linejoin': 'round',\n          class: 'lucide lucide-paperclip-icon lucide-paperclip size-4'\n        },\n        [\n          'path',\n          {\n            d: 'm16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551'\n          }\n        ]\n      ],\n      [\n        'div',\n        {\n          class: 'space-y-2'\n        },\n        ['div', name],\n        ['div', getSizeText(size)]\n      ]\n    ]\n  },\n  // @ts-expect-error - tiptap custom command not in core type definitions\n  addCommands() {\n    return {\n      insertFile:\n        (options: FileAttributes) =>\n        ({ commands }: { commands: ChainedCommands }) => {\n          return commands.insertContent({\n            type: this.name,\n            attrs: {\n              ...options\n            }\n          })\n        }\n    }\n  },\n  addNodeView() {\n    return ReactNodeViewRenderer(FileComponent)\n  }\n})\n\nexport default FileExtension\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/file-extension.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/highlight-button.tsx",
      "content": "import { useCurrentEditor } from '@tiptap/react'\nimport type { ColorInstance } from 'color'\nimport { Check, ChevronDown, CircleSlash, Highlighter } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\n\nconst ColorPickerButton = React.lazy(() => import('./color-picker-button'))\n\n// [C] Colors\nconst COLORS: string[] = [\n  'oklch(0.72 0.01 56)',\n  'oklch(0.71 0.01 286)',\n  'oklch(0.71 0.04 257)',\n  'oklch(0.71 0.17 22)',\n  'oklch(0.76 0.16 56)',\n  'oklch(0.84 0.16 84)',\n  'oklch(0.86 0.17 92)',\n  'oklch(0.85 0.21 129)',\n  'oklch(0.8 0.18 152)',\n  'oklch(0.77 0.15 163)',\n  'oklch(0.78 0.13 182)',\n  'oklch(0.8 0.13 212)',\n  'oklch(0.75 0.14 233)',\n  'oklch(0.71 0.14 255)',\n  'oklch(0.68 0.16 277)',\n  'oklch(0.71 0.16 294)',\n  'oklch(0.72 0.18 306)',\n  'oklch(0.75 0.21 322)',\n  'oklch(0.73 0.18 350)',\n  'oklch(0.72 0.17 13)'\n]\n\n// Component\nconst HighlightButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n\n  // States\n  const [selectedColor, setSelectedColor] = React.useState<string | null>(null)\n\n  // Methods\n  const setColor = (color: string) => {\n    setSelectedColor(color)\n    editor?.chain().focus().setHighlight({ color }).run()\n  }\n\n  const changeColorFromPicker = (color: ColorInstance) => {\n    setSelectedColor(null)\n    editor?.chain().setHighlight({ color: color.hex() }).run()\n  }\n\n  // Clear color\n  const clearColor = () => {\n    setSelectedColor(null)\n    editor?.chain().focus().unsetHighlight().run()\n  }\n\n  // Template\n  return (\n    <Popover>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button variant='ghost' className='gap-1'>\n              <Highlighter />\n              <ChevronDown />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Highlight</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent className='space-y-2'>\n        <div className='grid grid-cols-5 gap-2'>\n          {COLORS.map((color) => (\n            <Button\n              key={color}\n              size='icon'\n              style={{\n                backgroundColor: color\n              }}\n              onClick={() => setColor(color)}\n            >\n              {selectedColor === color && <Check className='text-foreground' />}\n            </Button>\n          ))}\n        </div>\n\n        <div className='flex justify-end gap-2'>\n          <React.Suspense fallback={<Button size='icon' variant='outline' className='animate-pulse bg-muted' />}>\n            <ColorPickerButton onValueChange={changeColorFromPicker} />\n          </React.Suspense>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant='outline' size='icon' onClick={clearColor}>\n                <CircleSlash />\n              </Button>\n            </TooltipTrigger>\n\n            <TooltipContent>Clear color</TooltipContent>\n          </Tooltip>\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n})\n\nHighlightButton.displayName = 'HighlightButton'\nexport default HighlightButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/highlight-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/history-buttons.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Redo, Undo } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst HistoryButtons = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isUndoDisabled: !editor?.can().undo(),\n        isRedoDisabled: !editor?.can().redo()\n      }\n    }\n  })\n\n  // Template\n  return (\n    <div className='flex gap-1'>\n      <TooltipButton\n        Icon={Undo}\n        label='Undo'\n        kbd='Ctrl Z'\n        disabled={editorState?.isUndoDisabled}\n        onClick={() => editor?.chain().focus().undo().run()}\n      />\n\n      <TooltipButton\n        Icon={Redo}\n        label='Redo'\n        kbd='Ctrl Y'\n        disabled={editorState?.isRedoDisabled}\n        onClick={() => editor?.chain().focus().redo().run()}\n      />\n    </div>\n  )\n})\n\nHistoryButtons.displayName = 'HistoryButtons'\nexport default HistoryButtons\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/history-buttons.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/image-button.tsx",
      "content": "import { zodResolver } from '@hookform/resolvers/zod'\nimport { useCurrentEditor } from '@tiptap/react'\nimport { CheckCircle, Image } from 'lucide-react'\nimport React from 'react'\nimport type { DropzoneOptions } from 'react-dropzone'\nimport { Controller, FormProvider, useForm, useWatch } from 'react-hook-form'\nimport z from 'zod'\nimport {\n  FileUpload,\n  FileUploadContent,\n  FileUploadInput,\n  FileUploadItem,\n  getFileUrl,\n  useFileUpload\n} from '@/components/molecules/file-upload'\nimport { Button } from '@/components/ui/button'\nimport { Field, FieldError, FieldLabel } from '@/components/ui/field'\nimport { Input } from '@/components/ui/input'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\n\n// [E] Form mode\nexport enum FormMode {\n  Url = 'Url',\n  Files = 'Files'\n}\n\n// [C] Image form schema\nexport const imageFormSchema = z\n  .object({\n    mode: z.enum(FormMode),\n    url: z.string().trim(),\n    files: z.array(z.custom<File>())\n  })\n  .superRefine((form, ctx) => {\n    const { mode, url, files } = form\n    switch (mode) {\n      case FormMode.Url: {\n        if (!url) {\n          ctx.addIssue({\n            code: 'custom',\n            path: ['url'],\n            message: 'Please enter the URL'\n          })\n          break\n        }\n\n        if (!/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|jpeg|png|webp|svg)/g.test(url)) {\n          ctx.addIssue({\n            code: 'custom',\n            path: ['url'],\n            message: 'URL is invalid'\n          })\n          break\n        }\n\n        break\n      }\n      case FormMode.Files: {\n        if (!files.length) {\n          ctx.addIssue({\n            code: 'custom',\n            path: ['files'],\n            message: 'Please select the image file'\n          })\n        }\n      }\n    }\n  })\n\n// [C] Default image form value\nexport const defaultImageFormValue: z.input<typeof imageFormSchema> = {\n  mode: FormMode.Url,\n  url: '',\n  files: []\n}\n\n// [C] File uploader dropzone options\nexport const fileUploaderDropzoneOptions: DropzoneOptions = {\n  maxFiles: 10,\n  multiple: true,\n  accept: {\n    'image/jpeg': ['.jpeg', '.jpg'],\n    'image/png': ['.png'],\n    'image/webp': ['.webp'],\n    'image/svg+xml': ['.svg']\n  }\n}\n\n// Component\nconst ImageButton = React.memo<{\n  id: string\n}>(({ id }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const { isUploadFilePending, uploadFile } = useFileUpload()\n\n  // States\n  const [isOpenPopover, setIsOpenPopover] = React.useState(false)\n\n  // Form\n  const imageForm = useForm({\n    resolver: zodResolver(imageFormSchema),\n    defaultValues: defaultImageFormValue\n  })\n\n  const formMode = useWatch({\n    control: imageForm.control,\n    name: 'mode'\n  })\n\n  // Methods\n  const changeTab = (value: string) => {\n    imageForm.setValue('mode', value as FormMode)\n  }\n\n  const insertImageNodes = async (fieldValues: z.output<typeof imageFormSchema>) => {\n    const { mode, url, files } = fieldValues\n\n    // Add image node view\n    switch (mode) {\n      case FormMode.Url: {\n        editor?.chain().focus().setImage({ src: url }).enter().run()\n        break\n      }\n      case FormMode.Files: {\n        const uploadedFiles = await Promise.all(files.map(async (file) => await uploadFile(file)))\n        uploadedFiles.forEach((uploadedFile) => {\n          if (!uploadedFile) return\n\n          editor\n            ?.chain()\n            .focus()\n            .setImage({\n              src: getFileUrl(uploadedFile.path)\n            })\n            .enter()\n            .run()\n        })\n        break\n      }\n    }\n\n    // Close popover\n    setIsOpenPopover(false)\n  }\n\n  // Template\n  return (\n    <Popover open={isOpenPopover} onOpenChange={setIsOpenPopover}>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button size='icon' variant='ghost'>\n              <Image />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Image</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent className='w-xs space-y-6' onCloseAutoFocus={() => imageForm.reset()}>\n        <div>Acceptable formats: jpeg, jpg, png, webp, svg</div>\n\n        <FormProvider {...imageForm}>\n          <form>\n            <Tabs value={formMode} onValueChange={changeTab}>\n              {/* Tabs list */}\n              <TabsList loop className='w-full [&_button]:flex-1'>\n                <TabsTrigger value={FormMode.Url}>URL</TabsTrigger>\n                <TabsTrigger value={FormMode.Files}>File</TabsTrigger>\n              </TabsList>\n\n              {/* Tabs content */}\n              {/* Url tab */}\n              <TabsContent value={FormMode.Url}>\n                <Controller\n                  control={imageForm.control}\n                  name='url'\n                  render={({ field, fieldState }) => (\n                    <Field data-invalid={fieldState.invalid}>\n                      <FieldLabel htmlFor={`editor-${id}-image-button-image-form-url`}>URL</FieldLabel>\n                      <Input\n                        {...field}\n                        id={`editor-${id}-image-button-image-form-url`}\n                        placeholder={`Enter URL`}\n                        aria-invalid={fieldState.invalid}\n                      />\n                      {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                    </Field>\n                  )}\n                />\n              </TabsContent>\n\n              {/* Files tab */}\n              <TabsContent value={FormMode.Files}>\n                <Controller\n                  control={imageForm.control}\n                  name='files'\n                  render={({ field, fieldState }) => (\n                    <Field data-invalid={fieldState.invalid}>\n                      <FieldLabel htmlFor={`editor-${id}-image-button-image-form-files`}>Image files</FieldLabel>\n                      <FileUpload\n                        value={field.value}\n                        dropzoneOptions={fileUploaderDropzoneOptions}\n                        className='xl:grid-cols-1'\n                        onValueChange={field.onChange}\n                      >\n                        <FileUploadInput\n                          id={`editor-${id}-image-button-image-form-files`}\n                          aria-invalid={fieldState.invalid}\n                        />\n\n                        <FileUploadContent>\n                          {field.value.map((value, index) => (\n                            <FileUploadItem\n                              // biome-ignore lint/suspicious/noArrayIndexKey: ignore\n                              key={index}\n                              index={index}\n                              value={value}\n                            />\n                          ))}\n                        </FileUploadContent>\n                      </FileUpload>\n                      {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                    </Field>\n                  )}\n                />\n              </TabsContent>\n            </Tabs>\n          </form>\n        </FormProvider>\n\n        <div className='flex items-center justify-end gap-1'>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size='icon'\n                variant='outline'\n                isLoading={isUploadFilePending}\n                onClick={imageForm.handleSubmit(insertImageNodes)}\n              >\n                <CheckCircle />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Save</TooltipContent>\n          </Tooltip>\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n})\n\nImageButton.displayName = 'ImageButton'\nexport default ImageButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/image-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/index.ts",
      "content": "export * from './editor'\nexport * from './editor-content'\nexport * from './lib'\n",
      "type": "registry:file",
      "target": "src/components/organisms/editor/index.ts"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/internal-editor-content.tsx",
      "content": "import { EditorContent, useCurrentEditor } from '@tiptap/react'\nimport { Plus, TableCellsMerge, TableCellsSplit, Trash } from 'lucide-react'\nimport React from 'react'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator\n} from '@/components/ui/dropdown-menu'\n\ninterface TableDropdownMenu {\n  open: boolean\n  x: number\n  y: number\n}\n\n// Component\nconst InternalEditorContent = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n\n  // States\n  const [tableDropdownMenu, setTableDropdownMenu] = React.useState<TableDropdownMenu>({ open: false, x: 0, y: 0 })\n\n  // Methods\n  const clickContextMenu = React.useCallback((e: React.MouseEvent) => {\n    const cell = (e.target as HTMLElement).closest('td, th')\n    if (cell) {\n      e.preventDefault()\n      setTableDropdownMenu({\n        open: true,\n        x: e.clientX,\n        y: e.clientY\n      })\n    }\n  }, [])\n\n  return (\n    <React.Fragment>\n      <EditorContent editor={editor} role='presentation' className='editor-content' onContextMenu={clickContextMenu} />\n\n      <DropdownMenu\n        open={tableDropdownMenu.open}\n        onOpenChange={(open) => setTableDropdownMenu((prev) => ({ ...prev, open }))}\n      >\n        <DropdownMenuContent\n          side='right'\n          align='start'\n          style={{\n            position: 'fixed',\n            left: tableDropdownMenu.x,\n            top: tableDropdownMenu.y\n          }}\n        >\n          <DropdownMenuItem onClick={() => editor?.chain().focus().addColumnBefore().run()}>\n            <Plus />\n            <span className='whitespace-nowrap'>Add column before</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().addColumnAfter().run()}>\n            <Plus />\n            <span className='whitespace-nowrap'>Add column before</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().addRowBefore().run()}>\n            <Plus />\n            <span className='whitespace-nowrap'>Add row above</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().addRowAfter().run()}>\n            <Plus />\n            <span className='whitespace-nowrap'>Add row below</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuSeparator />\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().deleteTable().run()}>\n            <Trash />\n            <span className='whitespace-nowrap'>Delete table</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().deleteColumn().run()}>\n            <Trash />\n            <span className='whitespace-nowrap'>Delete column</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().deleteRow().run()}>\n            <Trash />\n            <span className='whitespace-nowrap'>Delete row</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuSeparator />\n          <DropdownMenuItem onClick={() => editor?.chain().focus().mergeCells().run()}>\n            <TableCellsMerge />\n            <span className='whitespace-nowrap'>Merge cell</span>\n          </DropdownMenuItem>\n\n          <DropdownMenuItem onClick={() => editor?.chain().focus().splitCell().run()}>\n            <TableCellsSplit />\n            <span className='whitespace-nowrap'>Split cell</span>\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </React.Fragment>\n  )\n})\n\nInternalEditorContent.displayName = 'InternalEditorContent'\nexport default InternalEditorContent\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/internal-editor-content.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/italic-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Italic } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst ItalicButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: editor?.isActive('italic')\n      }\n    }\n  })\n\n  // Template\n  return (\n    <TooltipButton\n      Icon={Italic}\n      label='Italic'\n      isActive={editorState?.isActive}\n      kbd='Ctrl I'\n      onClick={() => editor?.chain().focus().toggleItalic().run()}\n    />\n  )\n})\n\nItalicButton.displayName = 'ItalicButton'\nexport default ItalicButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/italic-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/lib.ts",
      "content": "import { Color } from '@tiptap/extension-color'\nimport Highlight from '@tiptap/extension-highlight'\nimport { TaskItem, TaskList } from '@tiptap/extension-list'\nimport { Placeholder } from '@tiptap/extensions'\nimport type { Editor } from '@tiptap/react'\nimport StarterKit from '@tiptap/starter-kit'\nimport { AlignCenter, AlignJustify, AlignLeft, AlignRight, type LucideProps } from 'lucide-react'\nimport type React from 'react'\nimport CustomImageExtension from './custom-image-extension'\nimport FileExtension from './file-extension'\n\n// [T] Alignment\nexport type Alignment = 'left' | 'center' | 'right' | 'justify'\n\n// [C] Min width\nexport const minWidth = 320\n\n// [C] Default extensions\nexport const defaultExtensions = [\n  StarterKit.configure({\n    heading: {\n      levels: [1, 2, 3, 4]\n    },\n    link: {\n      defaultProtocol: 'https',\n      protocols: ['https'],\n      openOnClick: false,\n      autolink: true\n    }\n  }),\n  Highlight.configure({ multicolor: true }),\n  Color,\n  TaskList,\n  TaskItem.configure({\n    nested: true\n  }),\n  Placeholder.configure({\n    placeholder: 'Enter content'\n  }),\n  CustomImageExtension,\n  FileExtension\n  // FileHandler.configure({\n  //   allowedMimeTypes: ['image/png', 'image/jpeg', 'image/webp'],\n  //   onDrop: (currentEditor, files, pos) => {\n  //     files.forEach((file) => {\n  //       const fileReader = new FileReader()\n\n  //       fileReader.readAsDataURL(file)\n  //       fileReader.onload = () => {\n  //         currentEditor\n  //           .chain()\n  //           .insertContentAt(pos, {\n  //             type: 'image',\n  //             attrs: {\n  //               src: fileReader.result\n  //             }\n  //           })\n  //           .focus()\n  //           .run()\n  //       }\n  //     })\n  //   },\n  //   onPaste: (currentEditor, files, htmlContent) => {\n  //     files.forEach((file) => {\n  //       if (htmlContent) {\n  //         // if there is htmlContent, stop manual insertion & let other extensions handle insertion via inputRule\n  //         // you could extract the pasted file from this url string and upload it to a server for example\n  //         console.log(htmlContent)\n  //         return false\n  //       }\n\n  //       const fileReader = new FileReader()\n\n  //       fileReader.readAsDataURL(file)\n  //       fileReader.onload = () => {\n  //         currentEditor\n  //           .chain()\n  //           .insertContentAt(currentEditor.state.selection.anchor, {\n  //             type: 'image',\n  //             attrs: {\n  //               src: fileReader.result\n  //             }\n  //           })\n  //           .focus()\n  //           .run()\n  //       }\n  //     })\n  //   }\n  // })\n]\n\n// [C] Container class name per alignment\nexport const containerClassNamePerAlignment: Record<Alignment, string> = {\n  left: 'justify-start',\n  center: 'justify-center',\n  right: 'justify-end',\n  justify: 'justify-stretch'\n}\n\n// [C] Alignments\nexport const alignments: Array<{\n  value: Alignment\n  icon: React.ForwardRefExoticComponent<Omit<LucideProps, 'ref'> & React.RefAttributes<SVGSVGElement>>\n  label: string\n  shortcut: string\n}> = [\n  {\n    value: 'left',\n    icon: AlignLeft,\n    label: 'Align left',\n    shortcut: 'Ctrl Shift L'\n  },\n  {\n    value: 'center',\n    icon: AlignCenter,\n    label: 'Align center',\n    shortcut: 'Ctrl Shift E'\n  },\n  {\n    value: 'right',\n    icon: AlignRight,\n    label: 'Align right',\n    shortcut: 'Ctrl Shift R'\n  },\n  {\n    value: 'justify',\n    icon: AlignJustify,\n    label: 'Align justify',\n    shortcut: 'Ctrl Shift J'\n  }\n]\n\n// [U] Get editor value\nexport const getEditorValue = (editor: Editor, format: 'html' | 'json' | 'text'): object | string => {\n  switch (format) {\n    case 'json':\n      return editor.getJSON()\n    case 'html':\n      return editor.isEmpty ? '' : editor.getHTML()\n    default:\n      return editor.getText()\n  }\n}\n\n// [U] Is valid youtube url\nexport const isValidYoutubeUrl = (url: string) => {\n  return url.match(\n    /^((?:https?:)?\\/\\/)?((?:www|m|music)\\.)?((?:youtube\\.com|youtu\\.be|youtube-nocookie\\.com))(\\/(?:[\\w-]+\\?v=|embed\\/|v\\/)?)([\\w-]+)(\\S+)?$/\n  )\n}\n",
      "type": "registry:file",
      "target": "src/components/organisms/editor/lib.ts"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/link-button.tsx",
      "content": "import { zodResolver } from '@hookform/resolvers/zod'\nimport { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { CheckCircle, Copy, ExternalLink, Link, Trash, Unlink } from 'lucide-react'\nimport React from 'react'\nimport { Controller, FormProvider, useForm, useWatch } from 'react-hook-form'\nimport z from 'zod'\nimport { Button } from '@/components/ui/button'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { Field, FieldError, FieldLabel } from '@/components/ui/field'\nimport { Input } from '@/components/ui/input'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport { cn } from '@/utils/ui'\n\n// [C] Link form schema\nconst linkFormSchema = z.object({\n  url: z\n    .string()\n    .trim()\n    .min(1, JSON.stringify('Please enter the URL'))\n    .refine(\n      (url) =>\n        /https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z]{2,}\\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi.test(\n          url\n        ),\n      JSON.stringify('URL is invalid')\n    ),\n  displayText: z.string().trim(),\n  isOpenInNewTab: z.boolean()\n})\n\n// [C] Default link form value\nconst defaultLinkFormValue: z.input<typeof linkFormSchema> = {\n  url: '',\n  displayText: '',\n  isOpenInNewTab: false\n} as const\n\n// Component\nconst LinkButton = React.memo<{\n  id: string\n}>(({ id }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return { isActive: editor?.isActive('link') }\n    }\n  })\n\n  // Refs\n  const isUpdateModeRef = React.useRef(false)\n\n  // States\n  const [isOpenPopover, setIsOpenPopover] = React.useState(false)\n\n  // Form\n  const linkForm = useForm({\n    resolver: zodResolver(linkFormSchema),\n    defaultValues: defaultLinkFormValue\n  })\n\n  const linkFormUrl = useWatch({\n    control: linkForm.control,\n    name: 'url'\n  })\n\n  // Methods\n  const openLinkInNewTab = () => {\n    window.open(linkFormUrl, '_blank', 'noopener,noreferrer')\n  }\n\n  const unsetLink = () => {\n    editor?.chain().focus().extendMarkRange('link').unsetLink().run()\n    linkForm.reset()\n    setIsOpenPopover(false)\n  }\n\n  const copyLink = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault()\n    navigator.clipboard.writeText(linkFormUrl)\n  }\n\n  const saveLink = (linkFormValue: z.output<typeof linkFormSchema>) => {\n    const { url, displayText, isOpenInNewTab } = linkFormValue\n\n    // Add link node view\n    let chains = editor\n      ?.chain()\n      .extendMarkRange('link')\n      .insertContent({\n        type: 'text',\n        text: displayText || url,\n        marks: [\n          {\n            type: 'link',\n            attrs: {\n              href: url,\n              target: isOpenInNewTab ? '_blank' : '_self'\n            }\n          }\n        ]\n      })\n      .setLink({ href: url })\n\n    if (isUpdateModeRef.current) {\n      // Reset is update mode ref\n      isUpdateModeRef.current = false\n    } else {\n      // Enter new line when create new link\n      chains = chains?.enter()\n    }\n\n    chains?.focus().run()\n\n    // Close popover\n    setIsOpenPopover(false)\n  }\n\n  const deleteLink = () => {\n    editor?.chain().focus().extendMarkRange('link').deleteSelection().run()\n  }\n\n  // Template\n  return (\n    <Popover open={isOpenPopover} onOpenChange={setIsOpenPopover}>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button\n              size='icon'\n              variant='ghost'\n              className={cn({\n                'bg-accent text-accent-foreground': editorState?.isActive\n              })}\n            >\n              <Link />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Link</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent\n        className='space-y-4'\n        onOpenAutoFocus={() => {\n          const isLinkActive = editor?.isActive('link')\n          const { href, target } = editor?.getAttributes('link') ?? {}\n\n          if (isLinkActive && href) {\n            linkForm.setValue('url', href, {\n              shouldValidate: true\n            })\n            linkForm.setValue('displayText', editor?.view.domAtPos(editor?.state.selection.from).node.textContent ?? '')\n            linkForm.setValue('isOpenInNewTab', target === '_blank')\n            isUpdateModeRef.current = true\n            setIsOpenPopover(true)\n          }\n        }}\n        onCloseAutoFocus={() => linkForm.reset()}\n      >\n        <FormProvider {...linkForm}>\n          <form className='w-xs space-y-6'>\n            <Controller\n              control={linkForm.control}\n              name='url'\n              render={({ field, fieldState }) => (\n                <Field data-invalid={fieldState.invalid}>\n                  <FieldLabel htmlFor={`editor-${id}-link-button-link-form-url`}>URL</FieldLabel>\n                  <Input\n                    {...field}\n                    id={`editor-${id}-link-button-link-form-url`}\n                    placeholder={`Enter URL`}\n                    aria-invalid={fieldState.invalid}\n                  />\n                  {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                </Field>\n              )}\n            />\n\n            <Controller\n              control={linkForm.control}\n              name='displayText'\n              render={({ field, fieldState }) => (\n                <Field data-invalid={fieldState.invalid}>\n                  <FieldLabel htmlFor={`editor-${id}-link-button-link-display-text`}>Display text</FieldLabel>\n                  <Input\n                    {...field}\n                    id={`editor-${id}-link-button-link-display-text`}\n                    placeholder={`Enter URL`}\n                    aria-invalid={fieldState.invalid}\n                  />\n                  {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                </Field>\n              )}\n            />\n\n            <Controller\n              control={linkForm.control}\n              name='isOpenInNewTab'\n              render={({ field, fieldState }) => (\n                <Field data-invalid={fieldState.invalid} orientation='horizontal'>\n                  <Checkbox\n                    id={`editor-${id}-link-button-link-is-open-in-new-tab`}\n                    checked={field.value}\n                    onCheckedChange={field.onChange}\n                  />\n                  <FieldLabel htmlFor={`editor-${id}-link-button-link-is-open-in-new-tab`}>Open in new tab</FieldLabel>\n                  {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                </Field>\n              )}\n            />\n\n            <div className='flex items-center justify-end gap-2'>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button size='icon' variant='outline' disabled={!linkFormUrl} onClick={openLinkInNewTab}>\n                    <ExternalLink />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Open link in new tab</TooltipContent>\n              </Tooltip>\n\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button size='icon' variant='outline' disabled={!editor?.isActive('link')} onClick={unsetLink}>\n                    <Unlink />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Unset</TooltipContent>\n              </Tooltip>\n\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button size='icon' variant='outline' disabled={!linkFormUrl} onClick={copyLink}>\n                    <Copy />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Copy</TooltipContent>\n              </Tooltip>\n\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button size='icon' variant='outline' disabled={!linkFormUrl} onClick={deleteLink}>\n                    <Trash />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Delete</TooltipContent>\n              </Tooltip>\n\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button size='icon' variant='outline' onClick={linkForm.handleSubmit(saveLink)}>\n                    <CheckCircle />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Save</TooltipContent>\n              </Tooltip>\n            </div>\n          </form>\n        </FormProvider>\n      </PopoverContent>\n    </Popover>\n  )\n})\n\nLinkButton.displayName = 'LinkButton'\nexport default LinkButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/link-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/list-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { ChevronDown, List, ListOrdered, ListTodo } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuShortcut,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport { cn } from '@/utils/ui'\n\n// Component\nconst ListButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isBulletListActive: editor?.isActive('bulletList'),\n        isOrderedListActive: editor?.isActive('orderedList'),\n        isTaskListActive: editor?.isActive('taskList')\n      }\n    }\n  })\n\n  // Template\n  return (\n    <DropdownMenu>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DropdownMenuTrigger asChild>\n            <Button variant='ghost' className='gap-1'>\n              <List />\n              <ChevronDown />\n            </Button>\n          </DropdownMenuTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>List</TooltipContent>\n      </Tooltip>\n\n      <DropdownMenuContent>\n        {/* Bullet list */}\n        <DropdownMenuItem\n          className={cn({\n            'bg-accent text-accent-foreground': editorState?.isBulletListActive\n          })}\n          onClick={() => editor?.chain().focus().toggleBulletList().run()}\n        >\n          <List />\n          <span>Bullet list</span>\n          <DropdownMenuShortcut>Ctrl Shift 8</DropdownMenuShortcut>\n        </DropdownMenuItem>\n\n        {/* Ordered list */}\n        <DropdownMenuItem\n          className={cn({\n            'bg-accent text-accent-foreground': editorState?.isOrderedListActive\n          })}\n          onClick={() => editor?.chain().focus().toggleOrderedList().run()}\n        >\n          <ListOrdered />\n          <span>Ordered list</span>\n          <DropdownMenuShortcut>Ctrl Shift 7</DropdownMenuShortcut>\n        </DropdownMenuItem>\n\n        {/* Task list */}\n        <DropdownMenuItem\n          className={cn({\n            'bg-accent text-accent-foreground': editorState?.isTaskListActive\n          })}\n          onClick={() => editor?.chain().focus().toggleTaskList().run()}\n        >\n          <ListTodo />\n          <span>Task list</span>\n          <DropdownMenuShortcut>Ctrl Shift 9</DropdownMenuShortcut>\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n})\n\nListButton.displayName = 'ListButton'\nexport default ListButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/list-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/preview-button.tsx",
      "content": "import { type Content, useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Eye } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport { EditorContent } from './editor-content'\n\n// Component\nconst PreviewButton = React.memo<{ value: Content }>(({ value }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isEmpty: editor?.isEmpty\n      }\n    }\n  })\n\n  // Template\n  return (\n    <Dialog>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DialogTrigger asChild>\n            <Button size='icon' variant='ghost' disabled={editorState?.isEmpty}>\n              <Eye />\n            </Button>\n          </DialogTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Preview</TooltipContent>\n      </Tooltip>\n\n      <DialogContent aria-describedby={undefined} className='max-w-[calc(100dvw-3rem)]'>\n        <DialogHeader>\n          <DialogTitle>Preview the display content</DialogTitle>\n        </DialogHeader>\n\n        <main>\n          <EditorContent content={value} />\n        </main>\n      </DialogContent>\n    </Dialog>\n  )\n})\n\nPreviewButton.displayName = 'PreviewButton'\nexport default PreviewButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/preview-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/strike-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Strikethrough } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst StrikeButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: editor?.isActive('strike')\n      }\n    }\n  })\n\n  // Template\n  return (\n    <TooltipButton\n      Icon={Strikethrough}\n      label='Strike'\n      isActive={editorState?.isActive}\n      kbd='Ctrl Shift S'\n      onClick={() => editor?.chain().focus().toggleStrike().run()}\n    />\n  )\n})\n\nStrikeButton.displayName = 'StrikeButton'\nexport default StrikeButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/strike-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/table-button.tsx",
      "content": "import { useCurrentEditor } from '@tiptap/react'\nimport { Table } from 'lucide-react'\nimport React from 'react'\nimport type { CallbackRef, SetExtensions } from './editor'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst TableButton = React.memo<{\n  callbackRef: CallbackRef\n  setExtensions: SetExtensions\n}>(({ callbackRef, setExtensions }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const [isPending, startTransition] = React.useTransition()\n\n  // Refs\n  const isExtensionLoadedRef = React.useRef(false)\n\n  // Template\n  return (\n    <TooltipButton\n      Icon={Table}\n      label='Table'\n      isLoading={isPending}\n      onClick={() => {\n        const callback: CallbackRef['current'] = (editor) => {\n          editor?.chain().focus().insertTable({ rows: 3, cols: 3, withHeaderRow: true }).run()\n        }\n\n        if (isExtensionLoadedRef.current) {\n          return callback(editor)\n        }\n\n        // Load extension\n        startTransition(async () => {\n          try {\n            const { TableKit } = await import('@tiptap/extension-table')\n            callbackRef.current = callback\n            setExtensions((prev) => [\n              ...prev,\n              TableKit.configure({\n                table: { resizable: true, allowTableNodeSelection: true }\n              })\n            ])\n            isExtensionLoadedRef.current = true\n          } catch (error) {\n            console.error('An error occurred when load the TableKit extension', error)\n          }\n        })\n      }}\n    />\n  )\n})\n\nTableButton.displayName = 'TableButton'\nexport default TableButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/table-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/text-align-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { AlignLeft, ChevronDown } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuShortcut,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport { cn } from '@/utils/ui'\nimport type { CallbackRef, SetExtensions } from './editor'\nimport { alignments } from './lib'\n\n// Component\nconst TextAlignButton = React.memo<{\n  setExtensions: SetExtensions\n  callbackRef: CallbackRef\n}>(({ callbackRef, setExtensions }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: {\n          left: editor?.isActive({ textAlign: 'left' }),\n          center: editor?.isActive({ textAlign: 'center' }),\n          right: editor?.isActive({ textAlign: 'right' }),\n          justify: editor?.isActive({ textAlign: 'justify' })\n        }\n      }\n    }\n  })\n  const [isPending, startTransition] = React.useTransition()\n\n  // Refs\n  const isExtensionLoadedRef = React.useRef(false)\n\n  // Template\n  return (\n    <DropdownMenu>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DropdownMenuTrigger asChild>\n            <Button variant='ghost' className='gap-1' isLoading={isPending}>\n              <AlignLeft />\n              <ChevronDown />\n            </Button>\n          </DropdownMenuTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Text alignment</TooltipContent>\n      </Tooltip>\n\n      <DropdownMenuContent>\n        {alignments.map((alignment) => (\n          <DropdownMenuItem\n            key={alignment.value}\n            className={cn({\n              'bg-accent text-accent-foreground': editorState?.isActive[alignment.value]\n            })}\n            onClick={() => {\n              const callback: CallbackRef['current'] = (editor) => {\n                editor?.chain().focus().setTextAlign(alignment.value).run()\n              }\n\n              if (isExtensionLoadedRef.current) {\n                return callback(editor)\n              }\n\n              // Load extension\n              startTransition(async () => {\n                try {\n                  const extension = await import('@tiptap/extension-text-align')\n\n                  callbackRef.current = callback\n\n                  setExtensions((prev) => [\n                    ...prev,\n                    extension.default.configure({\n                      types: ['heading', 'paragraph']\n                    })\n                  ])\n\n                  isExtensionLoadedRef.current = true\n                } catch (error) {\n                  console.error('An error occurred when load the TextAlign extension', error)\n                }\n              })\n            }}\n          >\n            <alignment.icon />\n            <span>{alignment.label}</span>\n            <DropdownMenuShortcut>{alignment.shortcut}</DropdownMenuShortcut>\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n})\n\nTextAlignButton.displayName = 'TextAlignButton'\nexport default TextAlignButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/text-align-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/text-color-button.tsx",
      "content": "import { useCurrentEditor } from '@tiptap/react'\nimport type { ColorInstance } from 'color'\nimport { Baseline, Check, ChevronDown, CircleSlash } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\n\nconst ColorPickerButton = React.lazy(() => import('./color-picker-button'))\n\n// [C] Colors\nconst COLORS: string[] = [\n  'oklch(0.27 0.01 34)',\n  'oklch(0.27 0.01 286)',\n  'oklch(0.28 0.04 260)',\n  'oklch(0.44 0.16 27)',\n  'oklch(0.47 0.14 37)',\n  'oklch(0.47 0.12 46)',\n  'oklch(0.48 0.1 62)',\n  'oklch(0.45 0.11 131)',\n  'oklch(0.45 0.11 151)',\n  'oklch(0.43 0.09 167)',\n  'oklch(0.44 0.07 188)',\n  'oklch(0.45 0.08 224)',\n  'oklch(0.44 0.1 241)',\n  'oklch(0.42 0.18 266)',\n  'oklch(0.4 0.18 277)',\n  'oklch(0.43 0.21 293)',\n  'oklch(0.44 0.2 304)',\n  'oklch(0.45 0.19 325)',\n  'oklch(0.46 0.17 4)',\n  'oklch(0.45 0.17 14)'\n]\n\n// Component\nconst TextColorButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n\n  // States\n  const [selectedColor, setSelectedColor] = React.useState<string | null>(null)\n\n  // Methods\n  const setColor = (color: string) => {\n    setSelectedColor(color)\n    editor?.chain().focus().setColor(color).run()\n  }\n\n  const changeColorFromPicker = (color: ColorInstance) => {\n    setSelectedColor(null)\n    editor?.chain().setColor(color.hex()).run()\n  }\n\n  const clearColor = () => {\n    setSelectedColor(null)\n    editor?.chain().focus().unsetColor().run()\n  }\n\n  // Template\n  return (\n    <Popover>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button variant='ghost' className='gap-1'>\n              <Baseline />\n              <ChevronDown />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Text color</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent className='space-y-2'>\n        <div className='grid grid-cols-5 gap-2'>\n          {COLORS.map((color) => (\n            <Button\n              key={color}\n              size='icon'\n              style={{\n                backgroundColor: color\n              }}\n              onClick={() => setColor(color)}\n            >\n              {selectedColor === color && <Check className='text-background' />}\n            </Button>\n          ))}\n        </div>\n\n        <div className='flex justify-end gap-2'>\n          <React.Suspense fallback={<Button size='icon' variant='outline' className='animate-pulse bg-muted' />}>\n            <ColorPickerButton onValueChange={changeColorFromPicker} />\n          </React.Suspense>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant='outline' size='icon' onClick={clearColor}>\n                <CircleSlash />\n              </Button>\n            </TooltipTrigger>\n\n            <TooltipContent>Clear color</TooltipContent>\n          </Tooltip>\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n})\n\nTextColorButton.displayName = 'TextColorButton'\nexport default TextColorButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/text-color-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/text-style-button.tsx",
      "content": "import type { Level } from '@tiptap/extension-heading'\nimport { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { ChevronDown, Type } from 'lucide-react'\nimport React from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuShortcut,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport { cn } from '@/utils/ui'\n\n// [C] Text styles\nconst TEXT_STYLES: Array<{\n  label: string\n  level: Level | null\n  shortcut: string\n}> = [\n  {\n    label: 'Normal text',\n    level: null,\n    shortcut: 'Ctrl Alt 0'\n  },\n  {\n    label: 'Heading 1',\n    level: 1,\n    shortcut: 'Ctrl Alt 1'\n  },\n  {\n    label: 'Heading 2',\n    level: 2,\n    shortcut: 'Ctrl Alt 2'\n  },\n  {\n    label: 'Heading 3',\n    level: 3,\n    shortcut: 'Ctrl Alt 3'\n  },\n  {\n    label: 'Heading 4',\n    level: 4,\n    shortcut: 'Ctrl Alt 4'\n  }\n]\n\n// Component\nconst TextStyleButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: {\n          null: editor?.isActive('paragraph'),\n          1: editor?.isActive('heading', { level: 1 }),\n          2: editor?.isActive('heading', { level: 2 }),\n          3: editor?.isActive('heading', { level: 3 }),\n          4: editor?.isActive('heading', { level: 4 }),\n          5: editor?.isActive('heading', { level: 5 }),\n          6: editor?.isActive('heading', { level: 6 })\n        }\n      }\n    }\n  })\n\n  // Methods\n  const changeTextStyle = (textStyle: (typeof TEXT_STYLES)[number]) => {\n    const { level } = textStyle\n    if (level) {\n      editor?.chain().focus().toggleHeading({ level }).run()\n    } else {\n      editor?.chain().focus().setParagraph().run()\n    }\n  }\n\n  // Template\n  return (\n    <DropdownMenu>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DropdownMenuTrigger asChild>\n            <Button variant='ghost' className='gap-1'>\n              <Type />\n              <ChevronDown />\n            </Button>\n          </DropdownMenuTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>Text style</TooltipContent>\n      </Tooltip>\n\n      <DropdownMenuContent>\n        {TEXT_STYLES.map((textStyle) => (\n          <DropdownMenuItem\n            key={textStyle.level}\n            className={cn({\n              'bg-accent text-accent-foreground': editorState?.isActive[`${textStyle.level}`]\n            })}\n            onClick={() => changeTextStyle(textStyle)}\n          >\n            <span>{textStyle.label}</span>\n            <DropdownMenuShortcut>{textStyle.shortcut}</DropdownMenuShortcut>\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n})\n\nTextStyleButton.displayName = 'TextStyleButton'\nexport default TextStyleButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/text-style-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/toolbar-separator.tsx",
      "content": "import { memo } from 'react'\nimport { Separator } from '@/components/ui/separator'\n\n// Component\nconst ToolbarSeparator = memo(() => {\n  // Template\n  return <Separator orientation='vertical' className='mx-2 h-9!' />\n})\n\nToolbarSeparator.displayName = 'ToolbarSeparator'\nexport default ToolbarSeparator\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/toolbar-separator.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/tooltip-button.tsx",
      "content": "import type { LucideProps } from 'lucide-react'\nimport React from 'react'\nimport { Button, type ButtonProps } from '@/components/ui/button'\nimport { Kbd } from '@/components/ui/kbd'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport { cn } from '@/utils/ui'\n\n// Component\nconst TooltipButton = React.memo(\n  ({\n    Icon,\n    label,\n    isActive,\n    kbd,\n    className,\n    ...props\n  }: {\n    Icon: React.ForwardRefExoticComponent<Omit<LucideProps, 'ref'> & React.RefAttributes<SVGSVGElement>>\n    label: string\n    isActive?: boolean\n    kbd?: string\n  } & ButtonProps) => {\n    // Template\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button\n            size='icon'\n            variant='ghost'\n            className={cn(\n              {\n                'bg-accent text-accent-foreground': isActive\n              },\n              className\n            )}\n            {...props}\n          >\n            <Icon />\n          </Button>\n        </TooltipTrigger>\n\n        <TooltipContent className='flex items-center gap-1'>\n          <span>{label}</span>\n          {kbd && <Kbd>{kbd}</Kbd>}\n        </TooltipContent>\n      </Tooltip>\n    )\n  }\n)\n\nTooltipButton.displayName = 'TooltipButton'\nexport default TooltipButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/tooltip-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/underline-button.tsx",
      "content": "import { useCurrentEditor, useEditorState } from '@tiptap/react'\nimport { Underline } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\n// Component\nconst UnderlineButton = React.memo(() => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor }) => {\n      return {\n        isActive: editor?.isActive('underline')\n      }\n    }\n  })\n\n  // Template\n  return (\n    <TooltipButton\n      name='underline'\n      Icon={Underline}\n      label='Underline'\n      kbd='Ctrl U'\n      isActive={editorState?.isActive}\n      onClick={() => editor?.chain().focus().toggleUnderline().run()}\n    />\n  )\n})\n\nUnderlineButton.displayName = 'UnderlineButton'\nexport default UnderlineButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/underline-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/youtube-button.tsx",
      "content": "import { zodResolver } from '@hookform/resolvers/zod'\nimport { useCurrentEditor } from '@tiptap/react'\nimport { CheckCircle, TvMinimalPlay } from 'lucide-react'\nimport React from 'react'\nimport { Controller, FormProvider, useForm } from 'react-hook-form'\nimport z from 'zod'\nimport { Button } from '@/components/ui/button'\nimport { Field, FieldError, FieldLabel } from '@/components/ui/field'\nimport { Input } from '@/components/ui/input'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\nimport type { CallbackRef, SetExtensions } from './editor'\nimport { isValidYoutubeUrl, minWidth } from './lib'\n\n// [C] Youtube form schema\nconst YOUTUBE_FORM_SCHEMA = z.object({\n  url: z\n    .string()\n    .trim()\n    .min(1, 'Please enter the URL')\n    .refine((value) => isValidYoutubeUrl(value), 'URL is invalid')\n})\n\n// [C] Default youtube form value\nconst DEFAULT_YOUTUBE_FORM_VALUE: z.input<typeof YOUTUBE_FORM_SCHEMA> = {\n  url: ''\n}\n\n// Component\nconst YoutubeButton = React.memo<{\n  id: string\n  callbackRef: CallbackRef\n  setExtensions: SetExtensions\n}>(({ id, callbackRef, setExtensions }) => {\n  // Hooks\n  const { editor } = useCurrentEditor()\n  const [isPending, startTransition] = React.useTransition()\n\n  // Refs\n  const isExtensionLoadedRef = React.useRef(false)\n\n  // States\n  const [isOpenPopover, setIsOpenPopover] = React.useState(false)\n\n  // Form\n  const youtubeForm = useForm({\n    resolver: zodResolver(YOUTUBE_FORM_SCHEMA),\n    defaultValues: DEFAULT_YOUTUBE_FORM_VALUE\n  })\n\n  // Methods\n  const insertYoutubeNode = (fieldValues: z.output<typeof YOUTUBE_FORM_SCHEMA>) => {\n    const callback: CallbackRef['current'] = (editor) => {\n      editor\n        ?.chain()\n        .focus()\n        .setYoutubeVideo({\n          src: fieldValues.url\n        })\n        .enter()\n        .run()\n    }\n\n    // Add youtube node view\n    if (isExtensionLoadedRef.current) {\n      return callback(editor)\n    }\n\n    // Load extension\n    startTransition(async () => {\n      try {\n        const { default: CustomYoutubeExtension } = await import('./custom-youtube-extension')\n\n        callbackRef.current = callback\n\n        setExtensions((prev) => [\n          ...prev,\n          CustomYoutubeExtension.configure({\n            nocookie: true,\n            width: minWidth,\n            height: 180\n          })\n        ])\n\n        isExtensionLoadedRef.current = true\n      } catch (error) {\n        console.error('An error occurred when load the CustomYoutube extension', error)\n      }\n    })\n\n    // Close popover\n    setIsOpenPopover(false)\n  }\n\n  // Template\n  return (\n    <Popover open={isOpenPopover} onOpenChange={setIsOpenPopover}>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <PopoverTrigger asChild>\n            <Button size='icon' variant='ghost' isLoading={isPending}>\n              <TvMinimalPlay />\n            </Button>\n          </PopoverTrigger>\n        </TooltipTrigger>\n\n        <TooltipContent>YouTube</TooltipContent>\n      </Tooltip>\n\n      <PopoverContent className='w-xs space-y-4' onCloseAutoFocus={() => youtubeForm.reset()}>\n        <FormProvider {...youtubeForm}>\n          <form className='space-y-6'>\n            <Controller\n              control={youtubeForm.control}\n              name='url'\n              render={({ field, fieldState }) => (\n                <Field data-invalid={fieldState.invalid}>\n                  <FieldLabel htmlFor={`editor-${id}-youtube-button-youtube-form-url`}>URL</FieldLabel>\n                  <Input\n                    {...field}\n                    id={`editor-${id}-youtube-button-youtube-form-url`}\n                    placeholder={`Enter URL`}\n                    aria-invalid={fieldState.invalid}\n                  />\n                  {fieldState.invalid && <FieldError errors={[fieldState.error]} />}\n                </Field>\n              )}\n            />\n\n            <div className='flex items-center justify-end gap-1'>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button size='icon' variant='outline' onClick={youtubeForm.handleSubmit(insertYoutubeNode)}>\n                    <CheckCircle />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Save</TooltipContent>\n              </Tooltip>\n            </div>\n          </form>\n        </FormProvider>\n      </PopoverContent>\n    </Popover>\n  )\n})\n\nYoutubeButton.displayName = 'YoutubeButton'\nexport default YoutubeButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/youtube-button.tsx"
    },
    {
      "path": "src/registry/new-york/organisms/editor/components/zoom-button.tsx",
      "content": "import { Maximize2, Minimize2 } from 'lucide-react'\nimport React from 'react'\nimport TooltipButton from './tooltip-button'\n\nconst ZOOM_IN_CLASS_NAME =\n  'bg-background fixed inset-0 z-50 p-6 [&_.tiptap]:max-h-[unset] [&_.tiptap]:min-h-[unset] [&_.tiptap]:h-full [&_.editor-content]:grow [&>div]:h-full [&>div]:flex [&>div]:flex-col [&_.editor-content]:overflow-auto'\n\n// Component\nconst ZoomButton = React.memo<{\n  id: string\n}>(({ id }) => {\n  // States\n  const [isZoomed, setIsZoomed] = React.useState(false)\n\n  // Methods\n  const toggleZoom = () => {\n    const newIsZoomed = !isZoomed\n    const editorElement = document.querySelector(`#editor-${id}`)\n    editorElement?.classList[newIsZoomed ? 'add' : 'remove'](...ZOOM_IN_CLASS_NAME.split(' '))\n    setIsZoomed(newIsZoomed)\n  }\n\n  // Template\n  return (\n    <TooltipButton\n      Icon={isZoomed ? Minimize2 : Maximize2}\n      label={isZoomed ? 'Zoom out' : 'Zoom in'}\n      onClick={toggleZoom}\n    />\n  )\n})\n\nZoomButton.displayName = 'ZoomButton'\nexport default ZoomButton\n",
      "type": "registry:ui",
      "target": "src/components/organisms/editor/zoom-button.tsx"
    },
    {
      "path": "src/@types/tiptap.ts",
      "content": "export interface FileAttributes {\n  url: string\n  name: string\n  mime: string\n  size: number\n}\n\ndeclare module '@tiptap/react' {\n  interface Commands<ReturnType> {\n    file: {\n      insertFile: (options: FileAttributes) => ReturnType\n    }\n  }\n}\n",
      "type": "registry:file",
      "target": "src/@types/tiptap.ts"
    }
  ]
}