{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar",
  "type": "registry:ui",
  "title": "Calendar",
  "description": "A date field component that allows users to enter and edit date.",
  "dependencies": [
    "date-fns",
    "lucide-react",
    "react-day-picker"
  ],
  "registryDependencies": [
    "https://ntt-shadcn-registry.vercel.app/r/button.json"
  ],
  "files": [
    {
      "path": "src/registry/new-york/ui/calendar/components/calendar.tsx",
      "content": "import { add, endOfYear, startOfYear } from 'date-fns'\nimport { enUS } from 'date-fns/locale'\nimport { ChevronDownIcon, ChevronLeftIcon, ChevronRightIcon } from 'lucide-react'\nimport * as React from 'react'\nimport {\n  type ChevronProps,\n  type DayButtonProps,\n  DayPicker,\n  getDefaultClassNames,\n  type RootProps,\n  type WeekNumberProps\n} from 'react-day-picker'\nimport { Button, buttonVariants } from '@/components/ui/button'\nimport { cn } from '@/utils/ui'\n\n// Constants\nconst defaultClassNames = getDefaultClassNames()\n\n// Calendar root\nexport const CalendarRoot = ({ rootRef, ...props }: RootProps) => {\n  // Template\n  return <div data-slot='calendar' ref={rootRef} {...props} />\n}\n\n// Calendar chevron\nexport const CalendarChevron = ({ className, orientation, ...props }: ChevronProps) => {\n  // Template\n  if (orientation === 'left') {\n    return <ChevronLeftIcon className={cn('size-4', className)} {...props} />\n  }\n\n  if (orientation === 'right') {\n    return <ChevronRightIcon className={cn('size-4', className)} {...props} />\n  }\n\n  return <ChevronDownIcon className={cn('size-4', className)} {...props} />\n}\n\n// Calendar day button\nexport const CalendarDayButton = ({ className, day, modifiers, ...props }: DayButtonProps) => {\n  // Refs\n  const ref = React.useRef<HTMLButtonElement>(null)\n\n  // Effects\n  React.useEffect(() => {\n    if (modifiers.focused) {\n      ref.current?.focus()\n    }\n  }, [modifiers.focused])\n\n  // Template\n  return (\n    <Button\n      ref={ref}\n      variant='ghost'\n      size='icon'\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected && !modifiers.range_start && !modifiers.range_end && !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        'flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-start=true]:rounded-l-md data-[range-end=true]:bg-primary data-[range-middle=true]:bg-accent data-[range-start=true]:bg-primary data-[selected-single=true]:bg-primary data-[range-end=true]:text-primary-foreground data-[range-middle=true]:text-accent-foreground data-[range-start=true]:text-primary-foreground data-[selected-single=true]:text-primary-foreground group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-[3px] group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground [&>span]:text-xs [&>span]:opacity-70',\n        defaultClassNames.day,\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n// Calendar week number\nexport const CalendarWeekNumber = ({ children, ...props }: WeekNumberProps) => {\n  // Template\n  return (\n    <td {...props}>\n      <div className='flex size-(--cell-size) items-center justify-center text-center'>{children}</div>\n    </td>\n  )\n}\n\n// Calendar\nexport const DEFAULT_CALENDAR_START_MONTH = startOfYear(new Date('1900-01-01'))\nexport const DEFAULT_CALENDAR_END_MONTH = endOfYear(add(new Date(), { years: 100 }))\nexport type CalendarProps = React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>['variant']\n}\n\nexport const Calendar = ({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = 'label',\n  buttonVariant = 'ghost',\n  formatters,\n  components,\n  locale = enUS,\n  startMonth = DEFAULT_CALENDAR_START_MONTH,\n  endMonth = DEFAULT_CALENDAR_END_MONTH,\n  ...props\n}: CalendarProps) => {\n  // Template\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        'group/calendar bg-background in-data-[slot=card-content]:bg-transparent in-data-[slot=popover-content]:bg-transparent p-3 [--cell-size:--spacing(8)]',\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date, options) => date.toLocaleString(options?.options.locale?.code, { month: 'short' }),\n        ...formatters\n      }}\n      classNames={{\n        root: cn('w-fit', defaultClassNames.root),\n        months: cn('flex gap-4 flex-col md:flex-row relative', defaultClassNames.months),\n        month: cn('flex flex-col w-full gap-4', defaultClassNames.month),\n        nav: cn('flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between', defaultClassNames.nav),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          'size-(--cell-size) aria-disabled:opacity-50 p-0 select-none',\n          defaultClassNames.button_previous\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          'size-(--cell-size) aria-disabled:opacity-50 p-0 select-none',\n          defaultClassNames.button_next\n        ),\n        month_caption: cn(\n          'flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)',\n          defaultClassNames.month_caption\n        ),\n        dropdowns: cn(\n          'w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5',\n          defaultClassNames.dropdowns\n        ),\n        dropdown_root: cn(\n          'relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md',\n          defaultClassNames.dropdown_root\n        ),\n        dropdown: cn('absolute bg-popover inset-0 opacity-0', defaultClassNames.dropdown),\n        caption_label: cn(\n          'select-none font-medium',\n          captionLayout === 'label'\n            ? 'text-sm'\n            : 'rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5',\n          defaultClassNames.caption_label\n        ),\n        table: 'w-full border-collapse',\n        weekdays: cn('flex', defaultClassNames.weekdays),\n        weekday: cn(\n          'text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none',\n          defaultClassNames.weekday\n        ),\n        week: cn('flex w-full mt-2', defaultClassNames.week),\n        week_number_header: cn('select-none w-(--cell-size)', defaultClassNames.week_number_header),\n        week_number: cn('text-[0.8rem] select-none text-muted-foreground', defaultClassNames.week_number),\n        day: cn(\n          'relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none',\n          props.showWeekNumber\n            ? '[&:nth-child(2)[data-selected=true]_button]:rounded-l-md'\n            : '[&:first-child[data-selected=true]_button]:rounded-l-md',\n          defaultClassNames.day\n        ),\n        range_start: cn('rounded-l-md bg-accent', defaultClassNames.range_start),\n        range_middle: cn('rounded-none', defaultClassNames.range_middle),\n        range_end: cn('rounded-r-md bg-accent', defaultClassNames.range_end),\n        today: cn(\n          'bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none',\n          defaultClassNames.today\n        ),\n        outside: cn('text-muted-foreground aria-selected:text-muted-foreground', defaultClassNames.outside),\n        disabled: cn('text-muted-foreground opacity-50', defaultClassNames.disabled),\n        hidden: cn('invisible', defaultClassNames.hidden),\n        ...classNames\n      }}\n      components={{\n        Root: CalendarRoot,\n        Chevron: CalendarChevron,\n        DayButton: CalendarDayButton,\n        WeekNumber: CalendarWeekNumber,\n        ...components\n      }}\n      locale={locale}\n      startMonth={startMonth}\n      endMonth={endMonth}\n      {...props}\n    />\n  )\n}\n",
      "type": "registry:ui",
      "target": "src/components/ui/calendar.tsx"
    }
  ]
}